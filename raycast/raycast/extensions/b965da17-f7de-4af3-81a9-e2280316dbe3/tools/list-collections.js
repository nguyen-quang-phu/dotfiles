"use strict";var s=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var c=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var m=(r,e)=>{for(var t in e)s(r,t,{get:e[t],enumerable:!0})},C=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of c(e))!d.call(r,n)&&n!==t&&s(r,n,{get:()=>e[n],enumerable:!(i=f(e,n))||i.enumerable});return r};var h=r=>C(s({},"__esModule",{value:!0}),r);var w={};m(w,{default:()=>u});module.exports=h(w);var a=require("@raycast/api");async function u(r={}){let e=(0,a.getPreferenceValues)(),t=await fetch("https://api.raindrop.io/rest/v1/collections/all",{headers:{Authorization:`Bearer ${e.token}`}});if(!t.ok)throw new Error(`Failed to load collections: ${t.statusText}`);let i=await t.json(),n=p(i.items),o=r.filter?.trim().toLowerCase();return o?n.filter(l=>l.title.toLowerCase().includes(o)||l.path.toLowerCase().includes(o)):n}function p(r=[],e){return r.flatMap(t=>{let i=e?`${e} / ${t.title}`:t.title,n={id:t._id,title:t.title,parentId:t.parent?.$id??null,path:i};return t.children?.length?[n,...p(t.children,i)]:[n]})}
