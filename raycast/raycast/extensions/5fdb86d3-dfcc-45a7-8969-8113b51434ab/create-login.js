"use strict";var si=Object.create;var xt=Object.defineProperty;var oi=Object.getOwnPropertyDescriptor;var ii=Object.getOwnPropertyNames;var ai=Object.getPrototypeOf,ci=Object.prototype.hasOwnProperty;var W=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),li=(t,e)=>{for(var r in e)xt(t,r,{get:e[r],enumerable:!0})},jr=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ii(e))!ci.call(t,s)&&s!==r&&xt(t,s,{get:()=>e[s],enumerable:!(n=oi(e,s))||n.enumerable});return t};var K=(t,e,r)=>(r=t!=null?si(ai(t)):{},jr(e||!t||!t.__esModule?xt(r,"default",{value:t,enumerable:!0}):r,t)),ui=t=>jr(xt({},"__esModule",{value:!0}),t);var ln=W((_c,cn)=>{cn.exports=an;an.sync=wi;var sn=require("fs");function yi(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var s=r[n].toLowerCase();if(s&&t.substr(-s.length).toLowerCase()===s)return!0}return!1}function on(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:yi(e,r)}function an(t,e,r){sn.stat(t,function(n,s){r(n,n?!1:on(s,t,e))})}function wi(t,e){return on(sn.statSync(t),t,e)}});var pn=W((Nc,mn)=>{mn.exports=dn;dn.sync=bi;var un=require("fs");function dn(t,e,r){un.stat(t,function(n,s){r(n,n?!1:fn(s,e))})}function bi(t,e){return fn(un.statSync(t),e)}function fn(t,e){return t.isFile()&&Si(t,e)}function Si(t,e){var r=t.mode,n=t.uid,s=t.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),i=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),f=parseInt("001",8),x=a|c,S=r&f||r&c&&s===i||r&a&&n===o||r&x&&o===0;return S}});var gn=W((Fc,hn)=>{var Dc=require("fs"),Pt;process.platform==="win32"||global.TESTING_WINDOWS?Pt=ln():Pt=pn();hn.exports=er;er.sync=Ei;function er(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,s){er(t,e||{},function(o,i){o?s(o):n(i)})})}Pt(t,e||{},function(n,s){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,s=!1),r(n,s)})}function Ei(t,e){try{return Pt.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var vn=W((Uc,xn)=>{var ze=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",yn=require("path"),xi=ze?";":":",wn=gn(),bn=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),Sn=(t,e)=>{let r=e.colon||xi,n=t.match(/\//)||ze&&t.match(/\\/)?[""]:[...ze?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],s=ze?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=ze?s.split(r):[""];return ze&&t.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:s}},En=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:n,pathExt:s,pathExtExe:o}=Sn(t,e),i=[],a=f=>new Promise((x,S)=>{if(f===n.length)return e.all&&i.length?x(i):S(bn(t));let b=n[f],P=/^".*"$/.test(b)?b.slice(1,-1):b,y=yn.join(P,t),E=!P&&/^\.[\\\/]/.test(t)?t.slice(0,2)+y:y;x(c(E,f,0))}),c=(f,x,S)=>new Promise((b,P)=>{if(S===s.length)return b(a(x+1));let y=s[S];wn(f+y,{pathExt:o},(E,p)=>{if(!E&&p)if(e.all)i.push(f+y);else return b(f+y);return b(c(f,x,S+1))})});return r?a(0).then(f=>r(null,f),r):a(0)},vi=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:n,pathExtExe:s}=Sn(t,e),o=[];for(let i=0;i<r.length;i++){let a=r[i],c=/^".*"$/.test(a)?a.slice(1,-1):a,f=yn.join(c,t),x=!c&&/^\.[\\\/]/.test(t)?t.slice(0,2)+f:f;for(let S=0;S<n.length;S++){let b=x+n[S];try{if(wn.sync(b,{pathExt:s}))if(e.all)o.push(b);else return b}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw bn(t)};xn.exports=En;En.sync=vi});var Tn=W((Vc,tr)=>{"use strict";var In=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};tr.exports=In;tr.exports.default=In});var Cn=W((Mc,$n)=>{"use strict";var Pn=require("path"),Ii=vn(),Ti=Tn();function kn(t,e){let r=t.options.env||process.env,n=process.cwd(),s=t.options.cwd!=null,o=s&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(t.options.cwd)}catch{}let i;try{i=Ii.sync(t.command,{path:r[Ti({env:r})],pathExt:e?Pn.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return i&&(i=Pn.resolve(s?t.options.cwd:"",i)),i}function Pi(t){return kn(t)||kn(t,!0)}$n.exports=Pi});var Ln=W((Bc,nr)=>{"use strict";var rr=/([()\][%!^"`<>&|;, *?])/g;function ki(t){return t=t.replace(rr,"^$1"),t}function $i(t,e){return t=`${t}`,t=t.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),t=t.replace(/(?=(\\+?)?)\1$/,"$1$1"),t=`"${t}"`,t=t.replace(rr,"^$1"),e&&(t=t.replace(rr,"^$1")),t}nr.exports.command=ki;nr.exports.argument=$i});var Rn=W((Gc,An)=>{"use strict";An.exports=/^#!(.*)/});var _n=W((zc,On)=>{"use strict";var Ci=Rn();On.exports=(t="")=>{let e=t.match(Ci);if(!e)return null;let[r,n]=e[0].replace(/#! ?/,"").split(" "),s=r.split("/").pop();return s==="env"?n:n?`${s} ${n}`:s}});var Dn=W((Wc,Nn)=>{"use strict";var sr=require("fs"),Li=_n();function Ai(t){let r=Buffer.alloc(150),n;try{n=sr.openSync(t,"r"),sr.readSync(n,r,0,150,0),sr.closeSync(n)}catch{}return Li(r.toString())}Nn.exports=Ai});var Mn=W((Hc,Vn)=>{"use strict";var Ri=require("path"),Fn=Cn(),Un=Ln(),Oi=Dn(),_i=process.platform==="win32",Ni=/\.(?:com|exe)$/i,Di=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Fi(t){t.file=Fn(t);let e=t.file&&Oi(t.file);return e?(t.args.unshift(t.file),t.command=e,Fn(t)):t.file}function Ui(t){if(!_i)return t;let e=Fi(t),r=!Ni.test(e);if(t.options.forceShell||r){let n=Di.test(e);t.command=Ri.normalize(t.command),t.command=Un.command(t.command),t.args=t.args.map(o=>Un.argument(o,n));let s=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${s}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function Vi(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let n={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?n:Ui(n)}Vn.exports=Vi});var zn=W((jc,Gn)=>{"use strict";var or=process.platform==="win32";function ir(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function Mi(t,e){if(!or)return;let r=t.emit;t.emit=function(n,s){if(n==="exit"){let o=Bn(s,e);if(o)return r.call(t,"error",o)}return r.apply(t,arguments)}}function Bn(t,e){return or&&t===1&&!e.file?ir(e.original,"spawn"):null}function Bi(t,e){return or&&t===1&&!e.file?ir(e.original,"spawnSync"):null}Gn.exports={hookChildProcess:Mi,verifyENOENT:Bn,verifyENOENTSync:Bi,notFoundError:ir}});var jn=W((Kc,We)=>{"use strict";var Wn=require("child_process"),ar=Mn(),cr=zn();function Hn(t,e,r){let n=ar(t,e,r),s=Wn.spawn(n.command,n.args,n.options);return cr.hookChildProcess(s,n),s}function Gi(t,e,r){let n=ar(t,e,r),s=Wn.spawnSync(n.command,n.args,n.options);return s.error=s.error||cr.verifyENOENTSync(s.status,n),s}We.exports=Hn;We.exports.spawn=Hn;We.exports.sync=Gi;We.exports._parse=ar;We.exports._enoent=cr});var os=W((fl,Lt)=>{Lt.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Lt.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Lt.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var us=W((ml,Ye)=>{var D=global.process,De=function(t){return t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function"};De(D)?(is=require("assert"),je=os(),as=/^win/i.test(D.platform),it=require("events"),typeof it!="function"&&(it=it.EventEmitter),D.__signal_exit_emitter__?H=D.__signal_exit_emitter__:(H=D.__signal_exit_emitter__=new it,H.count=0,H.emitted={}),H.infinite||(H.setMaxListeners(1/0),H.infinite=!0),Ye.exports=function(t,e){if(!De(global.process))return function(){};is.equal(typeof t,"function","a callback must be provided for exit handler"),Ke===!1&&mr();var r="exit";e&&e.alwaysLast&&(r="afterexit");var n=function(){H.removeListener(r,t),H.listeners("exit").length===0&&H.listeners("afterexit").length===0&&At()};return H.on(r,t),n},At=function(){!Ke||!De(global.process)||(Ke=!1,je.forEach(function(e){try{D.removeListener(e,Rt[e])}catch{}}),D.emit=Ot,D.reallyExit=pr,H.count-=1)},Ye.exports.unload=At,Fe=function(e,r,n){H.emitted[e]||(H.emitted[e]=!0,H.emit(e,r,n))},Rt={},je.forEach(function(t){Rt[t]=function(){if(De(global.process)){var r=D.listeners(t);r.length===H.count&&(At(),Fe("exit",null,t),Fe("afterexit",null,t),as&&t==="SIGHUP"&&(t="SIGINT"),D.kill(D.pid,t))}}}),Ye.exports.signals=function(){return je},Ke=!1,mr=function(){Ke||!De(global.process)||(Ke=!0,H.count+=1,je=je.filter(function(e){try{return D.on(e,Rt[e]),!0}catch{return!1}}),D.emit=ls,D.reallyExit=cs)},Ye.exports.load=mr,pr=D.reallyExit,cs=function(e){De(global.process)&&(D.exitCode=e||0,Fe("exit",D.exitCode,null),Fe("afterexit",D.exitCode,null),pr.call(D,D.exitCode))},Ot=D.emit,ls=function(e,r){if(e==="exit"&&De(global.process)){r!==void 0&&(D.exitCode=r);var n=Ot.apply(this,arguments);return Fe("exit",D.exitCode,null),Fe("afterexit",D.exitCode,null),n}else return Ot.apply(this,arguments)}):Ye.exports=function(){return function(){}};var is,je,as,it,H,At,Fe,Rt,Ke,mr,pr,cs,Ot,ls});var Ss=W((gl,bs)=>{"use strict";var{PassThrough:fa}=require("stream");bs.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,n=r==="buffer",s=!1;e?s=!(r||n):r=r||"utf8",n&&(r=null);let o=new fa({objectMode:s});r&&o.setEncoding(r);let i=0,a=[];return o.on("data",c=>{a.push(c),s?i=a.length:i+=c.length}),o.getBufferedValue=()=>e?a:n?Buffer.concat(a,i):a.join(""),o.getBufferedLength=()=>i,o}});var Es=W((yl,at)=>{"use strict";var{constants:ma}=require("buffer"),pa=require("stream"),{promisify:ha}=require("util"),ga=Ss(),ya=ha(pa.pipeline),_t=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function hr(t,e){if(!t)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,n=ga(e);return await new Promise((s,o)=>{let i=a=>{a&&n.getBufferedLength()<=ma.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};(async()=>{try{await ya(t,n),s()}catch(a){i(a)}})(),n.on("data",()=>{n.getBufferedLength()>r&&i(new _t)})}),n.getBufferedValue()}at.exports=hr;at.exports.buffer=(t,e)=>hr(t,{...e,encoding:"buffer"});at.exports.array=(t,e)=>hr(t,{...e,array:!0});at.exports.MaxBufferError=_t});var vs=W((wl,xs)=>{"use strict";var{PassThrough:wa}=require("stream");xs.exports=function(){var t=[],e=new wa({objectMode:!0});return e.setMaxListeners(0),e.add=r,e.isEmpty=n,e.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(r),e;function r(o){return Array.isArray(o)?(o.forEach(r),this):(t.push(o),o.once("end",s.bind(null,o)),o.once("error",e.emit.bind(e,"error")),o.pipe(e,{end:!1}),this)}function n(){return t.length==0}function s(o){t=t.filter(function(i){return i!==o}),!t.length&&e.readable&&e.end()}}});var qs=W((Jl,Ys)=>{var ie=require("fs"),$a=require("util"),Je=require("path"),Ar=require("events"),Ws=require("zlib"),Ks=require("stream"),u={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSIGFIRST:80,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,MAXFILECOMMENT:65535,ENDL64HDR:20,ENDL64SIG:117853008,ENDL64SIGFIRST:80,ENDL64OFS:8,END64HDR:56,END64SIG:101075792,END64SIGFIRST:80,END64SUB:24,END64TOT:32,END64SIZ:40,END64OFF:48,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,FLG_ENC:0,FLG_COMP1:1,FLG_COMP2:2,FLG_DESC:4,FLG_ENH:8,FLG_STR:16,FLG_LNG:1024,FLG_MSK:4096,FLG_ENTRY_ENC:1,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535},xe=function(t){let e,r,n,s,o,i,c=this,f=t.storeEntries!==!1?{}:null,x=t.file,S=t.nameEncoding?new TextDecoder(t.nameEncoding):null;b();function b(){t.fd?(e=t.fd,P()):ie.open(x,"r",(l,h)=>{if(l)return c.emit("error",l);e=h,P()})}function P(){ie.fstat(e,(l,h)=>{if(l)return c.emit("error",l);r=h.size,n=t.chunkSize||Math.round(r/1e3),n=Math.max(Math.min(n,Math.min(128*1024,r)),Math.min(1024,r)),E()})}function y(l,h){if(l||!h)return c.emit("error",l||new Error("Archive read error"));let d=s.lastPos,g=d-s.win.position,A=s.win.buffer,k=s.minPos;for(;--d>=k&&--g>=0;)if(A.length-g>=4&&A[g]===s.firstByte&&A.readUInt32LE(g)===s.sig){s.lastBufferPosition=g,s.lastBytesRead=h,s.complete();return}if(d===k)return c.emit("error",new Error("Bad archive"));if(s.lastPos=d+1,s.chunkSize*=2,d<=k)return c.emit("error",new Error("Bad archive"));let V=Math.min(s.chunkSize,d-k);s.win.expandLeft(V,y)}function E(){let l=Math.min(u.ENDHDR+u.MAXFILECOMMENT,r);s={win:new Vt(e),totalReadLength:l,minPos:r-l,lastPos:r,chunkSize:Math.min(1024,n),firstByte:u.ENDSIGFIRST,sig:u.ENDSIG,complete:p},s.win.read(r-s.chunkSize,s.chunkSize,y)}function p(){let l=s.win.buffer,h=s.lastBufferPosition;try{o=new Tr,o.read(l.slice(h,h+u.ENDHDR)),o.headerOffset=s.win.position+h,o.commentLength?c.comment=l.slice(h+u.ENDHDR,h+u.ENDHDR+o.commentLength).toString():c.comment=null,c.entriesCount=o.volumeEntries,c.centralDirectory=o,o.volumeEntries===u.EF_ZIP64_OR_16&&o.totalEntries===u.EF_ZIP64_OR_16||o.size===u.EF_ZIP64_OR_32||o.offset===u.EF_ZIP64_OR_32?w():(s={},I())}catch(d){c.emit("error",d)}}function w(){let l=u.ENDL64HDR;s.lastBufferPosition>l?(s.lastBufferPosition-=l,m()):(s={win:s.win,totalReadLength:l,minPos:s.win.position-l,lastPos:s.win.position,chunkSize:s.chunkSize,firstByte:u.ENDL64SIGFIRST,sig:u.ENDL64SIG,complete:m},s.win.read(s.lastPos-s.chunkSize,s.chunkSize,y))}function m(){let l=s.win.buffer,h=new Pr;h.read(l.slice(s.lastBufferPosition,s.lastBufferPosition+u.ENDL64HDR));let d=r-h.headerOffset;s={win:s.win,totalReadLength:d,minPos:h.headerOffset,lastPos:s.lastPos,chunkSize:s.chunkSize,firstByte:u.END64SIGFIRST,sig:u.END64SIG,complete:T},s.win.read(r-s.chunkSize,s.chunkSize,y)}function T(){let l=s.win.buffer,h=new kr;h.read(l.slice(s.lastBufferPosition,s.lastBufferPosition+u.END64HDR)),c.centralDirectory.volumeEntries=h.volumeEntries,c.centralDirectory.totalEntries=h.totalEntries,c.centralDirectory.size=h.size,c.centralDirectory.offset=h.offset,c.entriesCount=h.volumeEntries,s={},I()}function I(){s={win:new Vt(e),pos:o.offset,chunkSize:n,entriesLeft:o.volumeEntries},s.win.read(s.pos,Math.min(n,r-s.pos),R)}function R(l,h){if(l||!h)return c.emit("error",l||new Error("Entries read error"));let d=s.pos-s.win.position,g=s.entry,A=s.win.buffer,k=A.length;try{for(;s.entriesLeft>0;){g||(g=new $r,g.readHeader(A,d),g.headerOffset=s.win.position+d,s.entry=g,s.pos+=u.CENHDR,d+=u.CENHDR);let V=g.fnameLen+g.extraLen+g.comLen,G=V+(s.entriesLeft>1?u.CENHDR:0);if(k-d<G){s.win.moveRight(n,R,d),s.move=!0;return}g.read(A,d,S),t.skipEntryNameValidation||g.validateName(),f&&(f[g.name]=g),c.emit("entry",g),s.entry=g=null,s.entriesLeft--,s.pos+=V,d+=V}c.emit("ready")}catch(V){c.emit("error",V)}}function F(){if(!f)throw new Error("storeEntries disabled")}Object.defineProperty(this,"ready",{get(){return!1}}),this.entry=function(l){return F(),f[l]},this.entries=function(){return F(),f},this.stream=function(l,h){return this.openEntry(l,(d,g)=>{if(d)return h(d);let A=X(g),k=new Cr(e,A,g.compressedSize);if(g.method!==u.STORED)if(g.method===u.DEFLATED)k=k.pipe(Ws.createInflateRaw());else return h(new Error("Unknown compression method: "+g.method));Q(g)&&(k=k.pipe(new Lr(k,g.crc,g.size))),h(null,k)},!1)},this.entryDataSync=function(l){let h=null;if(this.openEntry(l,(g,A)=>{h=g,l=A},!0),h)throw h;let d=Buffer.alloc(l.compressedSize);if(new Se(e,d,0,l.compressedSize,X(l),g=>{h=g}).read(!0),h)throw h;if(l.method!==u.STORED)if(l.method===u.DEFLATED||l.method===u.ENHANCED_DEFLATED)d=Ws.inflateRawSync(d);else throw new Error("Unknown compression method: "+l.method);if(d.length!==l.size)throw new Error("Invalid size");return Q(l)&&new Mt(l.crc,l.size).data(d),d},this.openEntry=function(l,h,d){if(typeof l=="string"&&(F(),l=f[l],!l))return h(new Error("Entry not found"));if(!l.isFile)return h(new Error("Entry is not file"));if(!e)return h(new Error("Archive closed"));let g=Buffer.alloc(u.LOCHDR);new Se(e,g,0,g.length,l.offset,A=>{if(A)return h(A);let k;try{l.readDataHeader(g),l.encrypted&&(k=new Error("Entry encrypted"))}catch(V){k=V}h(k,l)}).read(d)};function X(l){return l.offset+u.LOCHDR+l.fnameLen+l.extraLen}function Q(l){return(l.flags&8)!==8}function Oe(l,h,d){c.stream(l,(g,A)=>{if(g)d(g);else{let k,V;A.on("error",G=>{V=G,k&&(A.unpipe(k),k.close(()=>{d(G)}))}),ie.open(h,"w",(G,ce)=>{if(G)return d(G);if(V){ie.close(e,()=>{d(V)});return}k=ie.createWriteStream(h,{fd:ce}),k.on("finish",()=>{c.emit("extract",l,h),V||d()}),A.pipe(k)})}})}function Et(l,h,d){if(!h.length)return d();let g=h.shift();g=Je.join(l,Je.join(...g)),ie.mkdir(g,{recursive:!0},A=>{if(A&&A.code!=="EEXIST")return d(A);Et(l,h,d)})}function oe(l,h,d,g,A){if(!d.length)return g(null,A);let k=d.shift(),V=Je.join(l,k.name.replace(h,""));Oe(k,V,G=>{if(G)return g(G,A);oe(l,h,d,g,A+1)})}this.extract=function(l,h,d){let g=l||"";if(typeof l=="string"&&(l=this.entry(l),l?g=l.name:g.length&&g[g.length-1]!=="/"&&(g+="/")),!l||l.isDirectory){let A=[],k=[],V={};for(let G in f)if(Object.prototype.hasOwnProperty.call(f,G)&&G.lastIndexOf(g,0)===0){let ce=G.replace(g,""),Hr=f[G];if(Hr.isFile&&(A.push(Hr),ce=Je.dirname(ce)),ce&&!V[ce]&&ce!=="."){V[ce]=!0;let ge=ce.split("/").filter(st=>st);for(ge.length&&k.push(ge);ge.length>1;){ge=ge.slice(0,ge.length-1);let st=ge.join("/");if(V[st]||st===".")break;V[st]=!0,k.push(ge)}}}k.sort((G,ce)=>G.length-ce.length),k.length?Et(h,k,G=>{G?d(G):oe(h,g,A,d,0)}):oe(h,g,A,d,0)}else ie.stat(h,(A,k)=>{k&&k.isDirectory()?Oe(l,Je.join(h,Je.basename(l.name)),d):Oe(l,h,d)})},this.close=function(l){i||!e?(i=!0,l&&l()):(i=!0,ie.close(e,h=>{e=null,l&&l(h)}))};let q=Ar.EventEmitter.prototype.emit;this.emit=function(...l){if(!i)return q.call(this,...l)}};xe.setFs=function(t){ie=t};xe.debugLog=(...t)=>{xe.debug&&console.log(...t)};$a.inherits(xe,Ar.EventEmitter);var be=Symbol("zip");xe.async=class extends Ar.EventEmitter{constructor(e){super();let r=new xe(e);r.on("entry",n=>this.emit("entry",n)),r.on("extract",(n,s)=>this.emit("extract",n,s)),this[be]=new Promise((n,s)=>{r.on("ready",()=>{r.removeListener("error",s),n(r)}),r.on("error",s)})}get entriesCount(){return this[be].then(e=>e.entriesCount)}get comment(){return this[be].then(e=>e.comment)}async entry(e){return(await this[be]).entry(e)}async entries(){return(await this[be]).entries()}async stream(e){let r=await this[be];return new Promise((n,s)=>{r.stream(e,(o,i)=>{o?s(o):n(i)})})}async entryData(e){let r=await this.stream(e);return new Promise((n,s)=>{let o=[];r.on("data",i=>o.push(i)),r.on("end",()=>{n(Buffer.concat(o))}),r.on("error",i=>{r.removeAllListeners("end"),s(i)})})}async extract(e,r){let n=await this[be];return new Promise((s,o)=>{n.extract(e,r,(i,a)=>{i?o(i):s(a)})})}async close(){let e=await this[be];return new Promise((r,n)=>{e.close(s=>{s?n(s):r()})})}};var Tr=class{read(e){if(e.length!==u.ENDHDR||e.readUInt32LE(0)!==u.ENDSIG)throw new Error("Invalid central directory");this.volumeEntries=e.readUInt16LE(u.ENDSUB),this.totalEntries=e.readUInt16LE(u.ENDTOT),this.size=e.readUInt32LE(u.ENDSIZ),this.offset=e.readUInt32LE(u.ENDOFF),this.commentLength=e.readUInt16LE(u.ENDCOM)}},Pr=class{read(e){if(e.length!==u.ENDL64HDR||e.readUInt32LE(0)!==u.ENDL64SIG)throw new Error("Invalid zip64 central directory locator");this.headerOffset=Ee(e,u.ENDSUB)}},kr=class{read(e){if(e.length!==u.END64HDR||e.readUInt32LE(0)!==u.END64SIG)throw new Error("Invalid central directory");this.volumeEntries=Ee(e,u.END64SUB),this.totalEntries=Ee(e,u.END64TOT),this.size=Ee(e,u.END64SIZ),this.offset=Ee(e,u.END64OFF)}},$r=class{readHeader(e,r){if(e.length<r+u.CENHDR||e.readUInt32LE(r)!==u.CENSIG)throw new Error("Invalid entry header");this.verMade=e.readUInt16LE(r+u.CENVEM),this.version=e.readUInt16LE(r+u.CENVER),this.flags=e.readUInt16LE(r+u.CENFLG),this.method=e.readUInt16LE(r+u.CENHOW);let n=e.readUInt16LE(r+u.CENTIM),s=e.readUInt16LE(r+u.CENTIM+2);this.time=Hs(n,s),this.crc=e.readUInt32LE(r+u.CENCRC),this.compressedSize=e.readUInt32LE(r+u.CENSIZ),this.size=e.readUInt32LE(r+u.CENLEN),this.fnameLen=e.readUInt16LE(r+u.CENNAM),this.extraLen=e.readUInt16LE(r+u.CENEXT),this.comLen=e.readUInt16LE(r+u.CENCOM),this.diskStart=e.readUInt16LE(r+u.CENDSK),this.inattr=e.readUInt16LE(r+u.CENATT),this.attr=e.readUInt32LE(r+u.CENATX),this.offset=e.readUInt32LE(r+u.CENOFF)}readDataHeader(e){if(e.readUInt32LE(0)!==u.LOCSIG)throw new Error("Invalid local header");this.version=e.readUInt16LE(u.LOCVER),this.flags=e.readUInt16LE(u.LOCFLG),this.method=e.readUInt16LE(u.LOCHOW);let r=e.readUInt16LE(u.LOCTIM),n=e.readUInt16LE(u.LOCTIM+2);this.time=Hs(r,n),this.crc=e.readUInt32LE(u.LOCCRC)||this.crc;let s=e.readUInt32LE(u.LOCSIZ);s&&s!==u.EF_ZIP64_OR_32&&(this.compressedSize=s);let o=e.readUInt32LE(u.LOCLEN);o&&o!==u.EF_ZIP64_OR_32&&(this.size=o),this.fnameLen=e.readUInt16LE(u.LOCNAM),this.extraLen=e.readUInt16LE(u.LOCEXT)}read(e,r,n){let s=e.slice(r,r+=this.fnameLen);this.name=n?n.decode(new Uint8Array(s)):s.toString("utf8");let o=e[r-1];this.isDirectory=o===47||o===92,this.extraLen&&(this.readExtra(e,r),r+=this.extraLen),this.comment=this.comLen?e.slice(r,r+this.comLen).toString():null}validateName(){if(/\\|^\w+:|^\/|(^|\/)\.\.(\/|$)/.test(this.name))throw new Error("Malicious entry: "+this.name)}readExtra(e,r){let n,s,o=r+this.extraLen;for(;r<o;)n=e.readUInt16LE(r),r+=2,s=e.readUInt16LE(r),r+=2,u.ID_ZIP64===n&&this.parseZip64Extra(e,r,s),r+=s}parseZip64Extra(e,r,n){n>=8&&this.size===u.EF_ZIP64_OR_32&&(this.size=Ee(e,r),r+=8,n-=8),n>=8&&this.compressedSize===u.EF_ZIP64_OR_32&&(this.compressedSize=Ee(e,r),r+=8,n-=8),n>=8&&this.offset===u.EF_ZIP64_OR_32&&(this.offset=Ee(e,r),r+=8,n-=8),n>=4&&this.diskStart===u.EF_ZIP64_OR_16&&(this.diskStart=e.readUInt32LE(r))}get encrypted(){return(this.flags&u.FLG_ENTRY_ENC)===u.FLG_ENTRY_ENC}get isFile(){return!this.isDirectory}},Se=class{constructor(e,r,n,s,o,i){this.fd=e,this.buffer=r,this.offset=n,this.length=s,this.position=o,this.callback=i,this.bytesRead=0,this.waiting=!1}read(e){xe.debugLog("read",this.position,this.bytesRead,this.length,this.offset),this.waiting=!0;let r;if(e){let n=0;try{n=ie.readSync(this.fd,this.buffer,this.offset+this.bytesRead,this.length-this.bytesRead,this.position+this.bytesRead)}catch(s){r=s}this.readCallback(e,r,r?n:null)}else ie.read(this.fd,this.buffer,this.offset+this.bytesRead,this.length-this.bytesRead,this.position+this.bytesRead,this.readCallback.bind(this,e))}readCallback(e,r,n){if(typeof n=="number"&&(this.bytesRead+=n),r||!n||this.bytesRead===this.length)return this.waiting=!1,this.callback(r,this.bytesRead);this.read(e)}},Vt=class{constructor(e){this.position=0,this.buffer=Buffer.alloc(0),this.fd=e,this.fsOp=null}checkOp(){if(this.fsOp&&this.fsOp.waiting)throw new Error("Operation in progress")}read(e,r,n){this.checkOp(),this.buffer.length<r&&(this.buffer=Buffer.alloc(r)),this.position=e,this.fsOp=new Se(this.fd,this.buffer,0,r,this.position,n).read()}expandLeft(e,r){this.checkOp(),this.buffer=Buffer.concat([Buffer.alloc(e),this.buffer]),this.position-=e,this.position<0&&(this.position=0),this.fsOp=new Se(this.fd,this.buffer,0,e,this.position,r).read()}expandRight(e,r){this.checkOp();let n=this.buffer.length;this.buffer=Buffer.concat([this.buffer,Buffer.alloc(e)]),this.fsOp=new Se(this.fd,this.buffer,n,e,this.position+n,r).read()}moveRight(e,r,n){this.checkOp(),n?this.buffer.copy(this.buffer,0,n):n=0,this.position+=n,this.fsOp=new Se(this.fd,this.buffer,this.buffer.length-n,n,this.position+this.buffer.length-n,r).read()}},Cr=class extends Ks.Readable{constructor(e,r,n){super(),this.fd=e,this.offset=r,this.length=n,this.pos=0,this.readCallback=this.readCallback.bind(this)}_read(e){let r=Buffer.alloc(Math.min(e,this.length-this.pos));r.length?ie.read(this.fd,r,0,r.length,this.offset+this.pos,this.readCallback):this.push(null)}readCallback(e,r,n){this.pos+=r,e?(this.emit("error",e),this.push(null)):r?(r!==n.length&&(n=n.slice(0,r)),this.push(n)):this.push(null)}},Lr=class extends Ks.Transform{constructor(e,r,n){super(),this.verify=new Mt(r,n),e.on("error",s=>{this.emit("error",s)})}_transform(e,r,n){let s;try{this.verify.data(e)}catch(o){s=o}n(s,e)}},Mt=class t{constructor(e,r){this.crc=e,this.size=r,this.state={crc:-1,size:0}}data(e){let r=t.getCrcTable(),n=this.state.crc,s=0,o=e.length;for(;--o>=0;)n=r[(n^e[s++])&255]^n>>>8;if(this.state.crc=n,this.state.size+=e.length,this.state.size>=this.size){let i=Buffer.alloc(4);if(i.writeInt32LE(~this.state.crc&4294967295,0),n=i.readUInt32LE(0),n!==this.crc)throw new Error("Invalid CRC");if(this.state.size!==this.size)throw new Error("Invalid size")}}static getCrcTable(){let e=t.crcTable;if(!e){t.crcTable=e=[];let r=Buffer.alloc(4);for(let n=0;n<256;n++){let s=n;for(let o=8;--o>=0;)(s&1)!==0?s=3988292384^s>>>1:s=s>>>1;s<0&&(r.writeInt32LE(s,0),s=r.readUInt32LE(0)),e[n]=s}}return e}};function Hs(t,e){let r=js(t,16),n=js(e,16),s={h:parseInt(r.slice(0,5).join(""),2),m:parseInt(r.slice(5,11).join(""),2),s:parseInt(r.slice(11,16).join(""),2)*2,Y:parseInt(n.slice(0,7).join(""),2)+1980,M:parseInt(n.slice(7,11).join(""),2),D:parseInt(n.slice(11,16).join(""),2)},o=[s.Y,s.M,s.D].join("-")+" "+[s.h,s.m,s.s].join(":")+" GMT+0";return new Date(o).getTime()}function js(t,e){let r=(t>>>0).toString(2);for(;r.length<e;)r="0"+r;return r.split("")}function Ee(t,e){return t.readUInt32LE(e+4)*4294967296+t.readUInt32LE(e)}Ys.exports=xe});var Ec={};li(Ec,{default:()=>Sc});module.exports=ui(Ec);var $=require("@raycast/api");var C=K(require("react")),_=require("@raycast/api");var Kr=Object.prototype.hasOwnProperty;function vt(t,e){var r,n;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&vt(t[n],e[n]););return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(Kr.call(t,r)&&++n&&!Kr.call(e,r)||!(r in e)||!vt(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}var _e=K(require("node:fs")),It=K(require("node:path"));var Zr=require("react/jsx-runtime");function di(t){let e=(0,C.useRef)(t),r=(0,C.useRef)(0);return vt(t,e.current)||(e.current=t,r.current+=1),(0,C.useMemo)(()=>e.current,[r.current])}function te(t){let e=(0,C.useRef)(t);return e.current=t,e}function fi(t,e){let r=t instanceof Error?t.message:String(t);return(0,_.showToast)({style:_.Toast.Style.Failure,title:e?.title??"Something went wrong",message:e?.message??r,primaryAction:e?.primaryAction??Yr(t),secondaryAction:e?.primaryAction?Yr(t):void 0})}var Yr=t=>{let e=!0,r="[Extension Name]...",n="";try{let i=JSON.parse((0,_e.readFileSync)((0,It.join)(_.environment.assetsPath,"..","package.json"),"utf8"));r=`[${i.title}]...`,n=`https://raycast.com/${i.owner||i.author}/${i.name}`,(!i.owner||i.access==="public")&&(e=!1)}catch{}let s=_.environment.isDevelopment||e,o=t instanceof Error?t?.stack||t?.message||"":String(t);return{title:s?"Copy Logs":"Report Error",onAction(i){i.hide(),s?_.Clipboard.copy(o):(0,_.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(r)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${o}
\`\`\`
`)}`)}}};function Jr(t,e,r){let n=(0,C.useRef)(0),[s,o]=(0,C.useState)({isLoading:!0}),i=te(t),a=te(r?.abortable),c=te(e||[]),f=te(r?.onError),x=te(r?.onData),S=te(r?.onWillExecute),b=te(r?.failureToastOptions),P=te(s.data),y=(0,C.useRef)(null),E=(0,C.useRef)({page:0}),p=(0,C.useRef)(!1),w=(0,C.useRef)(!0),m=(0,C.useRef)(50),T=(0,C.useCallback)(()=>(a.current&&(a.current.current?.abort(),a.current.current=new AbortController),++n.current),[a]),I=(0,C.useCallback)((...oe)=>{let q=T();S.current?.(oe),o(d=>({...d,isLoading:!0}));let l=mi(i.current)(...oe);function h(d){return d.name=="AbortError"||q===n.current&&(f.current?f.current(d):_.environment.launchType!==_.LaunchType.Background&&fi(d,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(g){g.hide(),y.current?.(...c.current||[])}},...b.current}),o({error:d,isLoading:!1})),d}return typeof l=="function"?(p.current=!0,l(E.current).then(({data:d,hasMore:g,cursor:A})=>(q===n.current&&(E.current&&(E.current.cursor=A,E.current.lastItem=d?.[d.length-1]),x.current&&x.current(d,E.current),g&&(m.current=d.length),w.current=g,o(k=>E.current.page===0?{data:d,isLoading:!1}:{data:(k.data||[])?.concat(d),isLoading:!1})),d),d=>(w.current=!1,h(d)))):(p.current=!1,l.then(d=>(q===n.current&&(x.current&&x.current(d),o({data:d,isLoading:!1})),d),h))},[x,f,c,i,o,y,S,E,b,T]);y.current=I;let R=(0,C.useCallback)(()=>{E.current={page:0};let oe=c.current||[];return I(...oe)},[I,c]),F=(0,C.useCallback)(async(oe,q)=>{let l;try{if(q?.optimisticUpdate){T(),typeof q?.rollbackOnError!="function"&&q?.rollbackOnError!==!1&&(l=structuredClone(P.current?.value));let h=q.optimisticUpdate;o(d=>({...d,data:h(d.data)}))}return await oe}catch(h){if(typeof q?.rollbackOnError=="function"){let d=q.rollbackOnError;o(g=>({...g,data:d(g.data)}))}else q?.optimisticUpdate&&q?.rollbackOnError!==!1&&o(d=>({...d,data:l}));throw h}finally{q?.shouldRevalidateAfter!==!1&&(_.environment.launchType===_.LaunchType.Background||_.environment.commandMode==="menu-bar"?await R():R())}},[R,P,o,T]),X=(0,C.useCallback)(()=>{E.current.page+=1;let oe=c.current||[];I(...oe)},[E,c,I]);(0,C.useEffect)(()=>{E.current={page:0},r?.execute!==!1?I(...e||[]):T()},[di([e,r?.execute,I]),a,E]),(0,C.useEffect)(()=>()=>{T()},[T]);let Q=r?.execute!==!1?s.isLoading:!1,Oe={...s,isLoading:Q},Et=p.current?{pageSize:m.current,hasMore:w.current,onLoadMore:X}:void 0;return{...Oe,revalidate:R,mutate:F,pagination:Et}}function mi(t){return t===Promise.all||t===Promise.race||t===Promise.resolve||t===Promise.reject?t.bind(Promise):t}function pi(t,e){let r=this[t];return r instanceof Date?`__raycast_cached_date__${r.toISOString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:e}function hi(t,e){return typeof e=="string"&&e.startsWith("__raycast_cached_date__")?new Date(e.replace("__raycast_cached_date__","")):typeof e=="string"&&e.startsWith("__raycast_cached_buffer__")?Buffer.from(e.replace("__raycast_cached_buffer__",""),"base64"):e}var gi=Symbol("cache without namespace"),qr=new Map;function Xr(t,e,r){let n=r?.cacheNamespace||gi,s=qr.get(n)||qr.set(n,new _.Cache({namespace:r?.cacheNamespace})).get(n);if(!s)throw new Error("Missing cache");let o=te(t),i=te(e),a=(0,C.useSyncExternalStore)(s.subscribe,()=>{try{return s.get(o.current)}catch(S){console.error("Could not get Cache data:",S);return}}),c=(0,C.useMemo)(()=>{if(typeof a<"u"){if(a==="undefined")return;try{return JSON.parse(a,hi)}catch(S){return console.warn("The cached data is corrupted",S),i.current}}else return i.current},[a,i]),f=te(c),x=(0,C.useCallback)(S=>{let b=typeof S=="function"?S(f.current):S;if(typeof b>"u")s.set(o.current,"undefined");else{let P=JSON.stringify(b,pi);s.set(o.current,P)}return b},[s,o,f]);return[c,x]}var Tt=(function(t){return t.Required="required",t})({});function Jt(t,e){if(t){if(typeof t=="function")return t(e);if(t==="required"){let r=typeof e<"u"&&e!==null;if(r)switch(typeof e){case"string":r=e.length>0;break;case"object":Array.isArray(e)?r=e.length>0:e instanceof Date&&(r=e.getTime()>0);break;default:break}if(!r)return"The item is required"}}}function Qr(t){let{onSubmit:e,validation:r,initialValues:n={}}=t,[s,o]=(0,C.useState)(n),[i,a]=(0,C.useState)({}),c=(0,C.useRef)({}),f=te(r||{}),x=te(e),S=(0,C.useCallback)(w=>{c.current[w]?.focus()},[c]),b=(0,C.useCallback)(async w=>{let m=!1;for(let[I,R]of Object.entries(f.current)){let F=Jt(R,w[I]);F&&(m||(m={},S(I)),m[I]=F)}if(m)return a(m),!1;let T=await x.current(w);return typeof T=="boolean"?T:!0},[f,x,S]),P=(0,C.useCallback)((w,m)=>{a(T=>({...T,[w]:m}))},[a]),y=(0,C.useCallback)(function(w,m){o(T=>({...T,[w]:typeof m=="function"?m(T[w]):m}))},[o]),E=(0,C.useMemo)(()=>new Proxy({},{get(w,m){let T=f.current[m],I=s[m];return{onChange(R){i[m]&&(Jt(T,R)||P(m,void 0)),y(m,R)},onBlur(R){let F=Jt(T,R.target.value);F&&P(m,F)},error:i[m],id:m,value:typeof I>"u"?null:I,ref:R=>{c.current[m]=R}}}}),[i,f,P,s,c,y]),p=(0,C.useCallback)(w=>{a({}),Object.entries(c.current).forEach(([m,T])=>{w?.[m]||T?.reset()}),w&&o(w)},[o,a,c]);return{handleSubmit:b,setValidationError:P,setValue:y,values:s,itemProps:E,focus:S,reset:p}}var St=require("react");var qa=require("@raycast/api");var Xt=require("react"),Pc=(0,Xt.createContext)(null);var Mr=require("@raycast/api");var Qt=require("@raycast/api"),en=require("react/jsx-runtime");var et=require("@raycast/api"),$e=require("react");var L=require("@raycast/api"),ht=require("react");var Be=require("@raycast/api");var rn="https://bitwarden.com",nn="HIDDEN-VALUE",N={PASSWORD_OPTIONS:"bw-generate-password-options",PASSWORD_ONE_TIME_WARNING:"bw-generate-password-warning-accepted",SESSION_TOKEN:"sessionToken",REPROMPT_HASH:"sessionRepromptHash",SERVER_URL:"cliServer",LAST_ACTIVITY_TIME:"lastActivityTime",VAULT_LOCK_REASON:"vaultLockReason",VAULT_FAVORITE_ORDER:"vaultFavoriteOrder",VAULT_LAST_STATUS:"lastVaultStatus"},Ge={TIMEOUT:"Vault timed out due to inactivity",MANUAL:"Manually locked by the user",SYSTEM_LOCK:"Screen was locked",SYSTEM_SLEEP:"System went to sleep",CLI_UPDATED:"Bitwarden has been updated. Please login again."};var Ne={ALL:"all",NO_FOLDER:"no-folder"},re={IV:"iv",VAULT:"vault",CURRENT_FOLDER_ID:"currentFolderId",SEND_TYPE_FILTER:"sendTypeFilter",CLI_VERSION:"cliVersion"},Rc={1:Be.Icon.Globe,3:Be.Icon.CreditCard,4:Be.Icon.Person,2:Be.Icon.Document,5:Be.Icon.Key};var Ve=require("react");var B=require("@raycast/api");var Rs=require("node:buffer"),Os=K(require("node:path"),1),Er=K(require("node:child_process"),1),ct=K(require("node:process"),1),_s=K(jn(),1);function lr(t){let e=typeof t=="string"?`
`:10,r=typeof t=="string"?"\r":13;return t[t.length-1]===e&&(t=t.slice(0,-1)),t[t.length-1]===r&&(t=t.slice(0,-1)),t}var ot=K(require("node:process"),1),He=K(require("node:path"),1),Kn=K(require("node:url"),1);function kt(t={}){let{env:e=process.env,platform:r=process.platform}=t;return r!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"}function zi(t={}){let{cwd:e=ot.default.cwd(),path:r=ot.default.env[kt()],execPath:n=ot.default.execPath}=t,s,o=e instanceof URL?Kn.default.fileURLToPath(e):e,i=He.default.resolve(o),a=[];for(;s!==i;)a.push(He.default.join(i,"node_modules/.bin")),s=i,i=He.default.resolve(i,"..");return a.push(He.default.resolve(o,n,"..")),[...a,r].join(He.default.delimiter)}function Yn({env:t=ot.default.env,...e}={}){t={...t};let r=kt({env:t});return e.path=t[r],t[r]=zi(e),t}var Wi=(t,e,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;let s=Object.getOwnPropertyDescriptor(t,r),o=Object.getOwnPropertyDescriptor(e,r);!Hi(s,o)&&n||Object.defineProperty(t,r,o)},Hi=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},ji=(t,e)=>{let r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},Ki=(t,e)=>`/* Wrapped ${t}*/
${e}`,Yi=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),qi=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Zi=(t,e,r)=>{let n=r===""?"":`with ${r.trim()}() `,s=Ki.bind(null,n,e.toString());Object.defineProperty(s,"name",qi),Object.defineProperty(t,"toString",{...Yi,value:s})};function ur(t,e,{ignoreNonConfigurable:r=!1}={}){let{name:n}=t;for(let s of Reflect.ownKeys(e))Wi(t,e,s,r);return ji(t,e),Zi(t,e,n),t}var $t=new WeakMap,qn=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,n=0,s=t.displayName||t.name||"<anonymous>",o=function(...i){if($t.set(o,++n),n===1)r=t.apply(this,i),t=null;else if(e.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return ur(o,t),$t.set(o,n),o};qn.callCount=t=>{if(!$t.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return $t.get(t)};var Zn=qn;var rs=require("node:os");var Jn=function(){let t=Qn-Xn+1;return Array.from({length:t},Ji)},Ji=function(t,e){return{name:`SIGRT${e+1}`,number:Xn+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Xn=34,Qn=64;var ts=require("node:os");var es=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var dr=function(){let t=Jn();return[...es,...t].map(Xi)},Xi=function({name:t,number:e,description:r,action:n,forced:s=!1,standard:o}){let{signals:{[t]:i}}=ts.constants,a=i!==void 0;return{name:t,number:a?i:e,description:r,supported:a,action:n,forced:s,standard:o}};var Qi=function(){let t=dr();return Object.fromEntries(t.map(ea))},ea=function({name:t,number:e,description:r,supported:n,action:s,forced:o,standard:i}){return[t,{name:t,number:e,description:r,supported:n,action:s,forced:o,standard:i}]},ns=Qi(),ta=function(){let t=dr(),e=65,r=Array.from({length:e},(n,s)=>ra(s,t));return Object.assign({},...r)},ra=function(t,e){let r=na(t,e);if(r===void 0)return{};let{name:n,description:s,supported:o,action:i,forced:a,standard:c}=r;return{[t]:{name:n,number:t,description:s,supported:o,action:i,forced:a,standard:c}}},na=function(t,e){let r=e.find(({name:n})=>rs.constants.signals[n]===t);return r!==void 0?r:e.find(n=>n.number===t)},al=ta();var sa=({timedOut:t,timeout:e,errorCode:r,signal:n,signalDescription:s,exitCode:o,isCanceled:i})=>t?`timed out after ${e} milliseconds`:i?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${s})`:o!==void 0?`failed with exit code ${o}`:"failed",fr=({stdout:t,stderr:e,all:r,error:n,signal:s,exitCode:o,command:i,escapedCommand:a,timedOut:c,isCanceled:f,killed:x,parsed:{options:{timeout:S}}})=>{o=o===null?void 0:o,s=s===null?void 0:s;let b=s===void 0?void 0:ns[s].description,P=n&&n.code,E=`Command ${sa({timedOut:c,timeout:S,errorCode:P,signal:s,signalDescription:b,exitCode:o,isCanceled:f})}: ${i}`,p=Object.prototype.toString.call(n)==="[object Error]",w=p?`${E}
${n.message}`:E,m=[w,e,t].filter(Boolean).join(`
`);return p?(n.originalMessage=n.message,n.message=m):n=new Error(m),n.shortMessage=w,n.command=i,n.escapedCommand=a,n.exitCode=o,n.signal=s,n.signalDescription=b,n.stdout=t,n.stderr=e,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!c,n.isCanceled=f,n.killed=x&&!c,n};var Ct=["stdin","stdout","stderr"],oa=t=>Ct.some(e=>t[e]!==void 0),ss=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return Ct.map(n=>t[n]);if(oa(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Ct.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,Ct.length);return Array.from({length:r},(n,s)=>e[s])};var ds=K(require("node:os"),1),fs=K(us(),1),ia=1e3*5,ms=(t,e="SIGTERM",r={})=>{let n=t(e);return aa(t,e,r,n),n},aa=(t,e,r,n)=>{if(!ca(e,r,n))return;let s=ua(r),o=setTimeout(()=>{t("SIGKILL")},s);o.unref&&o.unref()},ca=(t,{forceKillAfterTimeout:e},r)=>la(t)&&e!==!1&&r,la=t=>t===ds.default.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",ua=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return ia;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},ps=(t,e)=>{t.kill()&&(e.isCanceled=!0)},da=(t,e,r)=>{t.kill(e),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},hs=(t,{timeout:e,killSignal:r="SIGTERM"},n)=>{if(e===0||e===void 0)return n;let s,o=new Promise((a,c)=>{s=setTimeout(()=>{da(t,r,c)},e)}),i=n.finally(()=>{clearTimeout(s)});return Promise.race([o,i])},gs=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},ys=async(t,{cleanup:e,detached:r},n)=>{if(!e||r)return n;let s=(0,fs.default)(()=>{t.kill()});return n.finally(()=>{s()})};function ws(t){return t!==null&&typeof t=="object"&&typeof t.pipe=="function"}var wr=K(Es(),1),Is=K(vs(),1),Ts=(t,e)=>{e!==void 0&&(ws(e)?e.pipe(t.stdin):t.stdin.end(e))},Ps=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let r=(0,Is.default)();return t.stdout&&r.add(t.stdout),t.stderr&&r.add(t.stderr),r},gr=async(t,e)=>{if(!(!t||e===void 0)){t.destroy();try{return await e}catch(r){return r.bufferedData}}},yr=(t,{encoding:e,buffer:r,maxBuffer:n})=>{if(!(!t||!r))return e?(0,wr.default)(t,{encoding:e,maxBuffer:n}):wr.default.buffer(t,{maxBuffer:n})},ks=async({stdout:t,stderr:e,all:r},{encoding:n,buffer:s,maxBuffer:o},i)=>{let a=yr(t,{encoding:n,buffer:s,maxBuffer:o}),c=yr(e,{encoding:n,buffer:s,maxBuffer:o}),f=yr(r,{encoding:n,buffer:s,maxBuffer:o*2});try{return await Promise.all([i,a,c,f])}catch(x){return Promise.all([{error:x,signal:x.signal,timedOut:x.timedOut},gr(t,a),gr(e,c),gr(r,f)])}};var ba=(async()=>{})().constructor.prototype,Sa=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(ba,t)]),br=(t,e)=>{for(let[r,n]of Sa){let s=typeof e=="function"?(...o)=>Reflect.apply(n.value,e(),o):n.value.bind(e);Reflect.defineProperty(t,r,{...n,value:s})}return t},$s=t=>new Promise((e,r)=>{t.on("exit",(n,s)=>{e({exitCode:n,signal:s})}),t.on("error",n=>{r(n)}),t.stdin&&t.stdin.on("error",n=>{r(n)})});var Cs=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],Ea=/^[\w.-]+$/,xa=/"/g,va=t=>typeof t!="string"||Ea.test(t)?t:`"${t.replace(xa,'\\"')}"`,Ls=(t,e)=>Cs(t,e).join(" "),As=(t,e)=>Cs(t,e).map(r=>va(r)).join(" ");var Ia=1e3*1e3*100,Ta=({env:t,extendEnv:e,preferLocal:r,localDir:n,execPath:s})=>{let o=e?{...ct.default.env,...t}:t;return r?Yn({env:o,cwd:n,execPath:s}):o},Pa=(t,e,r={})=>{let n=_s.default._parse(t,e,r);return t=n.command,e=n.args,r=n.options,r={maxBuffer:Ia,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||ct.default.cwd(),execPath:ct.default.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=Ta(r),r.stdio=ss(r),ct.default.platform==="win32"&&Os.default.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:r,parsed:n}},Sr=(t,e,r)=>typeof e!="string"&&!Rs.Buffer.isBuffer(e)?r===void 0?void 0:"":t.stripFinalNewline?lr(e):e;function Ns(t,e,r){let n=Pa(t,e,r),s=Ls(t,e),o=As(t,e);gs(n.options);let i;try{i=Er.default.spawn(n.file,n.args,n.options)}catch(P){let y=new Er.default.ChildProcess,E=Promise.reject(fr({error:P,stdout:"",stderr:"",all:"",command:s,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return br(y,E)}let a=$s(i),c=hs(i,n.options,a),f=ys(i,n.options,c),x={isCanceled:!1};i.kill=ms.bind(null,i.kill.bind(i)),i.cancel=ps.bind(null,i,x);let b=Zn(async()=>{let[{error:P,exitCode:y,signal:E,timedOut:p},w,m,T]=await ks(i,n.options,f),I=Sr(n.options,w),R=Sr(n.options,m),F=Sr(n.options,T);if(P||y!==0||E!==null){let X=fr({error:P,exitCode:y,signal:E,stdout:I,stderr:R,all:F,command:s,escapedCommand:o,parsed:n,timedOut:p,isCanceled:x.isCanceled||(n.options.signal?n.options.signal.aborted:!1),killed:i.killed});if(!n.options.reject)return X;throw X}return{command:s,escapedCommand:o,exitCode:0,stdout:I,stderr:R,all:F,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Ts(i,n.options.input),i.all=Ps(i,n.options),br(i,b)}var se=require("fs");var Us=require("@raycast/api"),Vs=require("crypto");var Ds="foobarbazzybaz",Fs={lowercase:!0,uppercase:!0,number:!1,special:!1,passphrase:!1,length:"14",words:"3",separator:"-",capitalize:!1,includeNumber:!1,minNumber:"1",minSpecial:"1"};function Ms(t){return Object.entries(t).flatMap(([e,r])=>{switch(typeof r){case"boolean":return r?[`--${e}`]:[];case"string":return[`--${e}`,r];default:return[]}})}function xr(t){return new Promise((e,r)=>{(0,Vs.pbkdf2)(t,Ds,1e5,64,"sha512",(n,s)=>{if(n!=null){r(n);return}e(s.toString("hex"))})})}async function Bs(){let t=await Us.LocalStorage.getItem(N.PASSWORD_OPTIONS);return{...Fs,...t?JSON.parse(t):{}}}var vr=require("@raycast/api");var ka={IMMEDIATELY:"0",ONE_MINUTE:"60000",FIVE_MINUTES:"300000",FIFTEEN_MINUTES:"900000",THIRTY_MINUTES:"1800000",ONE_HOUR:"3600000",FOUR_HOURS:"14400000",EIGHT_HOURS:"28800000",ONE_DAY:"86400000",NEVER:"-1",SYSTEM_LOCK:"-2",SYSTEM_SLEEP:"-3"},Z=Object.entries(ka).reduce((t,[e,r])=>(t[e]=parseInt(r),t),{});var Gs={[Z.IMMEDIATELY]:"Immediately",[Z.ONE_MINUTE]:"1 Minute",[Z.FIVE_MINUTES]:"5 Minutes",[Z.FIFTEEN_MINUTES]:"15 Minutes",[Z.THIRTY_MINUTES]:"30 Minutes",[Z.ONE_HOUR]:"1 Hour",[Z.FOUR_HOURS]:"4 Hours",[Z.EIGHT_HOURS]:"8 Hours",[Z.ONE_DAY]:"1 Day"};var Hl={1:"Login",3:"Card",4:"Identity",2:"Secure Note",5:"SSH Key"};function Nt(){let{serverUrl:t}=(0,vr.getPreferenceValues)();return!t||t==="bitwarden.com"||t==="https://bitwarden.com"?void 0:t}function zs(t){return Gs[t]}var de=class extends Error{constructor(e,r){super(e),this.stack=r}},qe=class extends de{constructor(e,r){super(e,r)}};var ye=class extends qe{constructor(e,r){super(e??"Bitwarden CLI not found",r),this.name="InstalledCLINotFoundError",this.stack=r}},Ze=class extends de{constructor(e,r){super(e??"Failed to load vault items",r),this.name="FailedToLoadVaultItemsError"}},Dt=class extends qe{constructor(e,r){super(e??"Vault is locked",r),this.name="VaultIsLockedError"}},lt=class extends de{constructor(e,r){super(e??"Not logged in",r),this.name="NotLoggedInError"}},Ue=class extends qe{constructor(e,r){super(e??"Failed do download Bitwarden CLI",r),this.name="EnsureCliBinError"}},Ft=class extends de{constructor(e,r){super(e??"Premium status is required to use this feature",r),this.name="PremiumFeatureError"}},ut=class extends de{constructor(e,r){super(e??"This Send has a is protected by a password",r),this.name="SendNeedsPasswordError"}},dt=class extends de{constructor(e,r){super(e??"The password you entered is invalid",r),this.name="SendInvalidPasswordError"}};function we(t,e){try{return t()}catch{return e}}function Ir(t){if(t instanceof qe)return t.message}var Ut=t=>{if(t){if(typeof t=="string")return t;if(t instanceof Error){let{message:e,name:r}=t;return t.stack?t.stack:`${r}: ${e}`}return String(t)}};var Ie=require("path"),Te=require("fs/promises");var pe=require("fs"),Bt=require("fs/promises"),Zs=require("path"),Js=K(qs());function Gt(t){return new Promise((e,r)=>{let n=setInterval(()=>{if(!(0,pe.existsSync)(t))return;(0,pe.statSync)(t).isFile()&&(clearInterval(n),e())},300);setTimeout(()=>{clearInterval(n),r(new Error(`File ${t} not found.`))},5e3)})}async function Xs(t,e){let r=new Js.default.async({file:t});(0,pe.existsSync)(e)||(0,pe.mkdirSync)(e,{recursive:!0}),await r.extract(null,e),await r.close()}async function Qs(t,e){let r=!1;try{let n=await(0,Bt.readdir)(e);for await(let s of n)s.startsWith(t)&&await we(async()=>{await(0,Bt.unlink)((0,Zs.join)(e,s)),r=!0})}catch{return!1}return r}function eo(...t){for(let e of t)we(()=>(0,pe.unlinkSync)(e))}var Qe=require("fs"),_r=K(require("http")),zt=K(require("https"));var Rr=require("@raycast/api");var to=require("@raycast/api"),Ca={logs:new Map,set:(t,e)=>{Xe.logs.set(new Date,{message:t,error:e})},clear:()=>Xe.logs.clear(),toString:()=>{let t="";return Xe.logs.forEach((e,r)=>{t.length>0&&(t+=`

`),t+=`[${r.toISOString()}] ${e.message}`,e.error&&(t+=`: ${Ut(e.error)}`)}),t}},Xe=Object.freeze(Ca),v=(t,e,r)=>{let{captureToRaycast:n=!1}=r??{},s=Array.isArray(t)?t.filter(Boolean).join(" "):t||"Captured exception";Xe.set(s,e),Rr.environment.isDevelopment?console.error(s,e):n&&(0,to.captureException)(e)},ro=(...t)=>{Rr.environment.isDevelopment&&console.debug(...t)};var no=require("fs"),so=require("crypto");function Or(t){try{return(0,so.createHash)("sha256").update((0,no.readFileSync)(t)).digest("hex")}catch{return null}}function Nr(t,e,r){let{onProgress:n,sha256:s}=r??{};return new Promise((o,i)=>{let a=new URL(t),c=a.protocol==="https:"?zt.default:_r.default,f=new(c===zt.default?zt.default:_r.default).Agent({keepAlive:!1}),x=0,S=c.get(a.href,{agent:f},b=>{if(b.statusCode&&b.statusCode>=300&&b.statusCode<400){S.destroy(),b.destroy();let m=b.headers.location;if(!m){i(new Error("Redirect response without location header"));return}if(++x>=10){i(new Error("Too many redirects"));return}Nr(m,e,r).then(o).catch(i);return}if(b.statusCode!==200){i(new Error(`Response status ${b.statusCode}: ${b.statusMessage}`));return}let P=parseInt(b.headers["content-length"]||"0",10);if(P===0){i(new Error("Invalid file size"));return}let y=(0,Qe.createWriteStream)(e,{autoClose:!0}),E=0,p=()=>{S.destroy(),b.destroy(),y.close()},w=m=>{p(),i(m)};b.on("data",m=>{E+=m.length;let T=Math.floor(E/P*100);n?.(T)}),y.on("finish",async()=>{try{await Gt(e),s&&await La(e,s),o()}catch(m){i(m)}finally{p()}}),y.on("error",m=>{v(`File stream error while downloading ${t}`,m),(0,Qe.unlink)(e,()=>w(m))}),b.on("error",m=>{v(`Response error while downloading ${t}`,m),(0,Qe.unlink)(e,()=>w(m))}),S.on("error",m=>{v(`Request error while downloading ${t}`,m),(0,Qe.unlink)(e,()=>w(m))}),b.pipe(y)})})}function La(t,e){return new Promise((r,n)=>{let s=Or(t);if(!s)return n(new Error(`Could not generate hash for file ${t}.`));if(s===e)return r();let o=setInterval(()=>{Or(t)===e&&(clearInterval(o),clearTimeout(i),r())},1e3),i=setTimeout(()=>{clearInterval(o),n(new Error(`Hash did not match, expected ${e.substring(0,7)}, got ${s.substring(0,7)}.`))},5e3)})}function oo(t,e){return{...t,...e,file:e.file?{...t.file,...e.file}:t.file,text:e.text?{...t.text,...e.text}:t.text}}var io=require("@raycast/api"),J=new io.Cache({namespace:"bw-cache"});var M=process.platform==="darwin"?"macos":"windows";var{supportPath:ve}=B.environment,Aa="5",Wt=(()=>{let t=(0,Ie.join)(ve,`bw-bin-download-error-${Aa}.log`);return{logError:e=>we(()=>(0,se.writeFileSync)(t,e?.message??"Unexpected error")),clearError:()=>we(()=>(0,se.unlinkSync)(t)),hasError:()=>we(()=>(0,se.existsSync)(t),!1)}})(),ne={version:"2025.11.0",get sha256(){return M==="windows"?"0484bae6306762881678097406d6bf00a58e291720dbc7d62f044e5f4d8286ed":process.arch==="arm64"?"59eac955be7b15bfc21c81101a194a9fbba32f48a61154b4f4b6e007efab6fd6":"213108a65eeb7294ffcd7303f8fe5308dc2af970735aefeb4d23fc9753a2ac01"},downloadPage:"https://github.com/bitwarden/clients/releases",path:{get downloadedBin(){return(0,Ie.join)(ve,ne.binFilenameVersioned)},get installedBin(){return M==="windows"?"C:\\ProgramData\\chocolatey\\bin\\bw.exe":process.arch==="arm64"?"/opt/homebrew/bin/bw":"/usr/local/bin/bw"},get bin(){return Wt.hasError()?this.installedBin:this.downloadedBin}},get binFilename(){return M==="windows"?"bw.exe":"bw"},get binFilenameVersioned(){let t=`bw-${this.version}`;return M==="windows"?`${t}.exe`:`${t}`},get downloadUrl(){let t="";return M==="macos"&&(t=process.arch==="arm64"?"-arm64":""),`${this.downloadPage}/download/cli-v${this.version}/bw-${M}${t}-${this.version}.zip`}},Ht=class{constructor(e){this.actionListeners=new Map;this.preferences=(0,B.getPreferenceValues)();this.wasCliUpdated=!1;this.showToast=async e=>{if(this.toastInstance){let r={message:this.toastInstance.message,title:this.toastInstance.title,primaryAction:this.toastInstance.primaryAction,secondaryAction:this.toastInstance.secondaryAction};return e.style&&(this.toastInstance.style=e.style),this.toastInstance.message=e.message,this.toastInstance.title=e.title,this.toastInstance.primaryAction=e.primaryAction,this.toastInstance.secondaryAction=e.secondaryAction,await this.toastInstance.show(),Object.assign(this.toastInstance,{restore:async()=>{await this.showToast(r)}})}else{let r=await(0,B.showToast)(e);return Object.assign(r,{restore:()=>r.hide()})}};let{cliPath:r,clientId:n,clientSecret:s,serverCertsPath:o}=this.preferences,i=Nt();this.toastInstance=e,this.cliPath=r||ne.path.bin,this.env={BITWARDENCLI_APPDATA_DIR:ve,BW_CLIENTSECRET:s.trim(),BW_CLIENTID:n.trim(),PATH:(0,Ie.dirname)(process.execPath),...i&&o?{NODE_EXTRA_CA_CERTS:o}:{}},this.initPromise=(async()=>{await this.ensureCliBinary(),this.retrieveAndCacheCliVersion(),await this.checkServerUrl(i)})()}async ensureCliBinary(){if(this.checkCliBinIsReady(this.cliPath))return;if(this.cliPath===this.preferences.cliPath||this.cliPath===ne.path.installedBin)throw new ye(`Bitwarden CLI not found at ${this.cliPath}`);Wt.hasError()&&Wt.clearError();let e=await Qs("bw-",ve),r=await this.showToast({title:`${e?"Updating":"Initializing"} Bitwarden CLI`,style:B.Toast.Style.Animated,primaryAction:{title:"Open Download Page",onAction:()=>(0,B.open)(ne.downloadPage)}}),s=(0,Ie.join)(ve,"bw.zip");try{try{r.message="Downloading...",await Nr(ne.downloadUrl,s,{onProgress:o=>r.message=`Downloading ${o}%`,sha256:ne.sha256})}catch(o){throw r.title="Failed to download Bitwarden CLI",o}try{r.message="Extracting...",await Xs(s,ve);let o=(0,Ie.join)(ve,ne.binFilename);await(0,Te.rename)(o,this.cliPath).catch(()=>null),await Gt(this.cliPath),await(0,Te.chmod)(this.cliPath,"755"),await(0,Te.rm)(s,{force:!0}),J.set(re.CLI_VERSION,ne.version),this.wasCliUpdated=!0;let i=(0,Ie.join)(ve,"data.json");await we(()=>(0,Te.unlink)(i))}catch(o){throw r.title="Failed to extract Bitwarden CLI",o}await r.hide()}catch(o){throw r.message=o instanceof Ue?o.message:"Please try again",r.style=B.Toast.Style.Failure,eo(s,this.cliPath),B.environment.isDevelopment||Wt.logError(o),o instanceof Error?new Ue(o.message,o.stack):o}finally{await r.restore()}}async retrieveAndCacheCliVersion(){try{let{error:e,result:r}=await this.getVersion();e||J.set(re.CLI_VERSION,r)}catch(e){v("Failed to retrieve and cache cli version",e,{captureToRaycast:!0})}}checkCliBinIsReady(e){try{return(0,se.existsSync)(this.cliPath)?((0,se.accessSync)(e,se.constants.X_OK),!0):!1}catch{return(0,se.chmodSync)(e,"755"),!0}}setSessionToken(e){this.env={...this.env,BW_SESSION:e}}clearSessionToken(){delete this.env.BW_SESSION}withSession(e){return this.tempSessionToken=e,this}async initialize(){return await this.initPromise,this}async checkServerUrl(e){let r=await B.LocalStorage.getItem(N.SERVER_URL);if(!e||r===e)return;let n=await this.showToast({style:B.Toast.Style.Animated,title:"Switching server...",message:"Bitwarden server preference changed"});try{try{await this.logout()}catch{}await this.exec(["config","server",e||rn],{resetVaultTimeout:!1}),await B.LocalStorage.setItem(N.SERVER_URL,e),n.style=B.Toast.Style.Success,n.title="Success",n.message="Bitwarden server changed"}catch(s){n.style=B.Toast.Style.Failure,n.title="Failed to switch server",s instanceof Error?n.message=s.message:n.message="Unknown error occurred"}finally{await n.restore()}}async exec(e,r){let{abortController:n,input:s="",resetVaultTimeout:o,env:i}=r??{},a=this.env;this.tempSessionToken&&(a={...a,BW_SESSION:this.tempSessionToken},this.tempSessionToken=void 0),i&&(a={...a,...i});let c=await Ns(this.cliPath,e,{input:s,env:a,signal:n?.signal});if(this.isPromptWaitingForMasterPassword(c))throw await this.lock(),new Dt;return o&&await B.LocalStorage.setItem(N.LAST_ACTIVITY_TIME,new Date().toISOString()),c}async getVersion(){try{let{stdout:e}=await this.exec(["--version"],{resetVaultTimeout:!1});return{result:e}}catch(e){v("Failed to get cli version",e);let{error:r}=await this.handleCommonErrors(e);if(!r)throw e;return{error:r}}}async login(){try{return await this.exec(["login","--apikey"],{resetVaultTimeout:!0}),await this.saveLastVaultStatus("login","unlocked"),await this.callActionListeners("login"),{result:void 0}}catch(e){v("Failed to login",e);let{error:r}=await this.handleCommonErrors(e);if(!r)throw e;return{error:r}}}async logout(e){let{reason:r,immediate:n=!1}=e??{};try{return n&&await this.handlePostLogout(r),await this.exec(["logout"],{resetVaultTimeout:!1}),await this.saveLastVaultStatus("logout","unauthenticated"),n||await this.handlePostLogout(r),{result:void 0}}catch(s){v("Failed to logout",s);let{error:o}=await this.handleCommonErrors(s);if(!o)throw s;return{error:o}}}async lock(e){let{reason:r,checkVaultStatus:n=!1,immediate:s=!1}=e??{};try{if(s&&await this.callActionListeners("lock",r),n){let{error:o,result:i}=await this.status();if(o)throw o;if(i.status==="unauthenticated")return{error:new lt("Not logged in")}}return await this.exec(["lock"],{resetVaultTimeout:!1}),this.clearSessionToken(),await this.saveLastVaultStatus("lock","locked"),s||await this.callActionListeners("lock",r),{result:void 0}}catch(o){v("Failed to lock vault",o);let{error:i}=await this.handleCommonErrors(o);if(!i)throw o;return{error:i}}}async unlock(e){try{this.clearSessionToken();let n=(await this.exec(["unlock","--passwordenv","BW_PASSWORD","--raw"],{resetVaultTimeout:!0,env:{BW_PASSWORD:e}})).stdout;if(!n.trim())throw new Error("Invalid session token");return this.setSessionToken(n),await this.saveLastVaultStatus("unlock","unlocked"),await this.callActionListeners("unlock",e,n),{result:n}}catch(r){v("Failed to unlock vault",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async sync(){try{return await this.exec(["sync"],{resetVaultTimeout:!0}),{result:void 0}}catch(e){v("Failed to sync vault",e);let{error:r}=await this.handleCommonErrors(e);if(!r)throw e;return{error:r}}}async getItem(e){try{let{stdout:r}=await this.exec(["get","item",e],{resetVaultTimeout:!0});return{result:JSON.parse(r)}}catch(r){v("Failed to get item",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async listItems(){try{let{stdout:e}=await this.exec(["list","items"],{resetVaultTimeout:!0});return{result:JSON.parse(e).filter(n=>!!n.name)}}catch(e){v("Failed to list items",e);let{error:r}=await this.handleCommonErrors(e);if(!r)throw e;return{error:r}}}async createLoginItem(e){try{let{error:r,result:n}=await this.getTemplate("item");if(r)throw r;let{error:s,result:o}=await this.getTemplate("item.login");if(s)throw s;n.name=e.name,n.type=1,n.folderId=e.folderId||null,n.login=o,n.notes=null,o.username=e.username||null,o.password=e.password,o.totp=null,o.fido2Credentials=void 0,e.uri&&(o.uris=[{match:null,uri:e.uri}]);let{result:i,error:a}=await this.encode(JSON.stringify(n));if(a)throw a;let{stdout:c}=await this.exec(["create","item",i],{resetVaultTimeout:!0});return{result:JSON.parse(c)}}catch(r){v("Failed to create login item",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async listFolders(){try{let{stdout:e}=await this.exec(["list","folders"],{resetVaultTimeout:!0});return{result:JSON.parse(e)}}catch(e){v("Failed to list folder",e);let{error:r}=await this.handleCommonErrors(e);if(!r)throw e;return{error:r}}}async createFolder(e){try{let{error:r,result:n}=await this.getTemplate("folder");if(r)throw r;n.name=e;let{result:s,error:o}=await this.encode(JSON.stringify(n));if(o)throw o;return await this.exec(["create","folder",s],{resetVaultTimeout:!0}),{result:void 0}}catch(r){v("Failed to create folder",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async getTotp(e){try{let{stdout:r}=await this.exec(["get","totp",e],{resetVaultTimeout:!0});return{result:r}}catch(r){v("Failed to get TOTP",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async status(){try{let{stdout:e}=await this.exec(["status"],{resetVaultTimeout:!1});return{result:JSON.parse(e)}}catch(e){v("Failed to get status",e);let{error:r}=await this.handleCommonErrors(e);if(!r)throw e;return{error:r}}}async checkLockStatus(){try{return await this.exec(["unlock","--check"],{resetVaultTimeout:!1}),await this.saveLastVaultStatus("checkLockStatus","unlocked"),"unlocked"}catch(e){return v("Failed to check lock status",e),e.stderr==="Vault is locked."?(await this.saveLastVaultStatus("checkLockStatus","locked"),"locked"):(await this.saveLastVaultStatus("checkLockStatus","unauthenticated"),"unauthenticated")}}async getTemplate(e){try{let{stdout:r}=await this.exec(["get","template",e],{resetVaultTimeout:!0});return{result:JSON.parse(r)}}catch(r){v("Failed to get template",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async encode(e){try{let{stdout:r}=await this.exec(["encode"],{input:e,resetVaultTimeout:!1});return{result:r}}catch(r){v("Failed to encode",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async generatePassword(e,r){let n=e?Ms(e):[],{stdout:s}=await this.exec(["generate",...n],{abortController:r,resetVaultTimeout:!1});return s}async listSends(){try{let{stdout:e}=await this.exec(["send","list"],{resetVaultTimeout:!0});return{result:JSON.parse(e)}}catch(e){v("Failed to list sends",e);let{error:r}=await this.handleCommonErrors(e);if(!r)throw e;return{error:r}}}async createSend(e){try{let{error:r,result:n}=await this.getTemplate(e.type===0?"send.text":"send.file");if(r)throw r;let s=oo(n,e),{result:o,error:i}=await this.encode(JSON.stringify(s));if(i)throw i;let{stdout:a}=await this.exec(["send","create",o],{resetVaultTimeout:!0});return{result:JSON.parse(a)}}catch(r){v("Failed to create send",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async editSend(e){try{let{result:r,error:n}=await this.encode(JSON.stringify(e));if(n)throw n;let{stdout:s}=await this.exec(["send","edit",r],{resetVaultTimeout:!0});return{result:JSON.parse(s)}}catch(r){v("Failed to delete send",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async deleteSend(e){try{return await this.exec(["send","delete",e],{resetVaultTimeout:!0}),{result:void 0}}catch(r){v("Failed to delete send",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async removeSendPassword(e){try{return await this.exec(["send","remove-password",e],{resetVaultTimeout:!0}),{result:void 0}}catch(r){v("Failed to remove send password",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async receiveSendInfo(e,r){try{let{stdout:n,stderr:s}=await this.exec(["send","receive",e,"--obj"],{resetVaultTimeout:!0,input:r?.password});return!n&&/Invalid password/i.test(s)?{error:new dt}:!n&&/Send password/i.test(s)?{error:new ut}:{result:JSON.parse(n)}}catch(n){let s=n.stderr;if(/Invalid password/gi.test(s))return{error:new dt};if(/Send password/gi.test(s))return{error:new ut};v("Failed to receive send obj",n);let{error:o}=await this.handleCommonErrors(n);if(!o)throw n;return{error:o}}}async receiveSend(e,r){try{let{savePath:n,password:s}=r??{},o=["send","receive",e];n&&o.push("--output",n);let{stdout:i}=await this.exec(o,{resetVaultTimeout:!0,input:s});return{result:i}}catch(n){v("Failed to receive send",n);let{error:s}=await this.handleCommonErrors(n);if(!s)throw n;return{error:s}}}async saveLastVaultStatus(e,r){await B.LocalStorage.setItem(N.VAULT_LAST_STATUS,r)}async getLastSavedVaultStatus(){let e=await B.LocalStorage.getItem(N.VAULT_LAST_STATUS);return e||(await this.status()).result?.status}isPromptWaitingForMasterPassword(e){return!!(e.stderr&&e.stderr.includes("Master password"))}async handlePostLogout(e){this.clearSessionToken(),await this.callActionListeners("logout",e)}async handleCommonErrors(e){let r=e.stderr;return r?/not logged in/i.test(r)?(await this.handlePostLogout(),{error:new lt("Not logged in")}):/Premium status/i.test(r)?{error:new Ft}:{}:{}}setActionListener(e,r){let n=this.actionListeners.get(e);return n&&n.size>0?n.add(r):this.actionListeners.set(e,new Set([r])),this}removeActionListener(e,r){let n=this.actionListeners.get(e);return n&&n.size>0&&n.delete(r),this}async callActionListeners(e,...r){let n=this.actionListeners.get(e);if(n&&n.size>0)for(let s of n)try{await s?.(...r)}catch(o){if(v(`Error calling bitwarden action listener for ${e}`,o),e==="unlock")throw o}}};var ao=require("@raycast/api"),lo=require("react/jsx-runtime"),co=()=>(0,lo.jsx)(ao.Form,{isLoading:!0});var le=require("@raycast/api");var uo=require("@raycast/api"),fo=require("react/jsx-runtime"),Dr="https://github.com/raycast/extensions/issues/new?assignees=&labels=extension%2Cbug&template=extension_bug_report.yml&title=%5BBitwarden%5D+...";function Ra(){return(0,fo.jsx)(uo.Action.OpenInBrowser,{title:"Open Bug Report",url:Dr})}var ft=Ra;var Pe=require("react/jsx-runtime"),Oa=`

`,Fr="https://bitwarden.com/help/cli/#download-and-install",_a=t=>`\`\`\`
${t}
\`\`\``,Na=({error:t})=>{let e=Ut(t),r=(0,le.getPreferenceValues)().cliPath,n=t instanceof Ue,s=r||t instanceof ye,o=[];if(s&&!n?o.push("# \u26A0\uFE0F Bitwarden CLI not found"):o.push("# \u{1F4A5} Whoops! Something went wrong"),n)o.push(`We couldn't download the [Bitwarden CLI](${Fr}), you can always install it on your machine.`);else if(s){let i=r?` (${r})`:"";o.push(`We couldn't find the [Bitwarden CLI](${Fr}) installed on your machine${i}.`)}else o.push(`The \`${le.environment.commandName}\` command crashed when we were not expecting it to.`);if(o.push("> Please read the `Setup` section in the [extension's description](https://www.raycast.com/jomifepe/bitwarden) to ensure that everything is properly configured."),o.push(`**Try restarting the command. If the issue persists, consider [reporting a bug on GitHub](${Dr}) to help us fix it.**`),e){let i=/incompatible architecture/gi.test(e);o.push(">## Technical details \u{1F913}",i&&`\u26A0\uFE0F We suspect that your Bitwarden CLI was installed using a version of NodeJS that's incompatible with your system architecture (e.g. x64 NodeJS on a M1/Apple Silicon Mac). Please make sure your have the correct versions of your software installed (e.g., ${M==="macos"?"Homebrew, ":""}NodeJS, and Bitwarden CLI).`,_a(e))}return(0,Pe.jsx)(le.Detail,{markdown:o.filter(Boolean).join(Oa),actions:(0,Pe.jsxs)(le.ActionPanel,{children:[(0,Pe.jsxs)(le.ActionPanel.Section,{title:"Bug Report",children:[(0,Pe.jsx)(ft,{}),(0,Pe.jsx)(pt,{})]}),s&&(0,Pe.jsx)(le.Action.OpenInBrowser,{title:"Open Installation Guide",url:Fr})]})})},mt=Na;var jt=require("react");function Da(t,e){let r=(0,jt.useRef)(!1);(0,jt.useEffect)(()=>{r.current||e!==void 0&&!e||(r.current=!0,t())},[e])}var fe=Da;var Kt=require("react/jsx-runtime"),mo=(0,Ve.createContext)(null),po=({children:t,loadingFallback:e=(0,Kt.jsx)(co,{})})=>{let[r,n]=(0,Ve.useState)(),[s,o]=(0,Ve.useState)();fe(()=>{new Ht().initialize().then(n).catch(i)});function i(a){if(a instanceof ye)o(a);else throw a}return s?(0,Kt.jsx)(mt,{error:s}):r?(0,Kt.jsx)(mo.Provider,{value:r,children:t}):e},ue=()=>{let t=(0,Ve.useContext)(mo);if(t==null)throw new Error("useBitwarden must be used within a BitwardenProvider");return t};function ho(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function go(t,e){try{let r=t,n;return r?.stderr?n=r.stderr:t instanceof Error?n=`${t.name}: ${t.message}`:ho(t)?n=JSON.stringify(t):n=`${t}`,n?e?.omitSensitiveValue?Fa(n,e.omitSensitiveValue):n:""}catch{return""}}function Fa(t,e){return t.replace(new RegExp(e,"i"),"[REDACTED]")}var me=require("@raycast/api"),Yt=require("react");function Ua(){let t=ue(),[e,r]=(0,Yt.useState)(null);(0,Yt.useEffect)(()=>{t.status().then(({error:i,result:a})=>{i||r(a)}).catch(()=>{})},[]);let n=!!Nt(),s="...",o="...";if(e){let{status:i,userEmail:a,serverUrl:c}=e;s=i=="unauthenticated"?"\u274C Logged out":`\u{1F512} Locked (${a})`,c?o=c||"":(!c&&n||c&&!n)&&(0,me.confirmAlert)({icon:me.Icon.ExclamationMark,title:"Restart Required",message:"Bitwarden server URL preference has been changed since the extension was opened.",primaryAction:{title:"Close Extension"},dismissAction:{title:"Close Raycast",style:me.Alert.ActionStyle.Cancel}}).then(f=>{f?(0,me.popToRoot)():(0,me.closeMainWindow)()})}return{userMessage:s,serverMessage:o,shouldShowServer:n}}var yo=Ua;var qt=require("@raycast/api");function wo(t,e){let{data:r,revalidate:n,isLoading:s}=Jr(()=>qt.LocalStorage.getItem(t));return[r??e,{isLoading:s,set:async a=>{await qt.LocalStorage.setItem(t,a),await n()},remove:async()=>{await qt.LocalStorage.removeItem(t),await n()}}]}var z=require("react/jsx-runtime"),Va=({pendingAction:t=Promise.resolve()})=>{let e=ue(),{userMessage:r,serverMessage:n,shouldShowServer:s}=yo(),[o,i]=(0,ht.useState)(!1),[a,c]=(0,ht.useState)(),[f,x]=(0,ht.useState)(!1),[S,b]=(0,ht.useState)(""),[P,{remove:y}]=wo(N.VAULT_LOCK_REASON);async function E(){if(S.length!==0)try{i(!0),c(void 0),await t;let I=await(0,L.showToast)({title:"Validating...",message:"Please wait",style:L.Toast.Style.Animated}),{error:R,result:F}=await e.status();if(R)throw R;if(F.status==="unauthenticated")try{I.title="Logging in...";let{error:Q}=await e.login();if(Q)throw Q}catch(Q){return p(Q,{title:"Failed to log in",fallbackMessage:`Please check your ${s?"Server URL, ":""}API Key and Secret.`})}I.title="Unlocking vault...";let{error:X}=await e.unlock(S);if(X)return p(X,{title:"Failed to unlock vault",fallbackMessage:"Please check your credentials"});I.title="Vault unlocked",I.style=L.Toast.Style.Success,I.message=void 0,await y()}catch(I){await p(I,{title:"Failed to unlock vault",fallbackMessage:"Please check your credentials"})}finally{i(!1)}}async function p(I,R){let{title:F,fallbackMessage:X}=R,{displayableError:Q=X,treatedError:Oe}=Ba(I,S);c(Oe),await(0,L.showToast)({title:F,message:Q,style:L.Toast.Style.Failure,primaryAction:{title:"Copy Error",onAction:w}}),v("Failed to unlock vault",I)}let w=async()=>{a&&(await L.Clipboard.copy(a),await(0,L.showToast)(L.Toast.Style.Success,"Error copied to clipboard"))},m=L.Form.PasswordField,T="password";return f&&(m=L.Form.TextField,T="plainPassword"),(0,z.jsxs)(L.Form,{actions:(0,z.jsxs)(L.ActionPanel,{children:[!o&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(L.Action.SubmitForm,{icon:L.Icon.LockUnlocked,title:"Submit",onSubmit:E}),(0,z.jsx)(L.Action,{icon:f?L.Icon.EyeDisabled:L.Icon.Eye,title:f?"Hide Password":"Show Password",onAction:()=>x(I=>!I),shortcut:{macOS:{key:"e",modifiers:["opt"]},Windows:{key:"e",modifiers:["alt"]}}})]}),a&&(0,z.jsx)(L.Action,{onAction:w,title:"Copy Last Error",icon:L.Icon.Bug,style:L.Action.Style.Destructive}),(0,z.jsx)(gt,{})]}),children:[s&&(0,z.jsx)(L.Form.Description,{title:"Server URL",text:n}),(0,z.jsx)(L.Form.Description,{title:"Vault Status",text:r}),(0,z.jsx)(m,{id:T,title:"Master Password",value:S,onChange:b,ref:I=>I?.focus()}),(0,z.jsx)(L.Form.Description,{title:"",text:`Press ${M==="macos"?"\u2325":"Alt"}+E to ${f?"hide":"show"} password`}),!!P&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(L.Form.Description,{title:"\u2139\uFE0F",text:P}),(0,z.jsx)(Ma,{})]})]})};function Ma(){let t=(0,L.getPreferenceValues)().repromptIgnoreDuration,e=zs(t);return e?(0,z.jsx)(L.Form.Description,{title:"",text:`Timeout is set to ${e}, this can be configured in the extension settings`}):null}function Ba(t,e){let r=go(t,{omitSensitiveValue:e}),n;return/Invalid master password/i.test(r)?n="Invalid master password":/Invalid API Key/i.test(r)&&(n="Invalid Client ID or Secret"),{displayableError:n,treatedError:r}}var bo=Va;var So=require("@raycast/api"),xo=require("react/jsx-runtime"),Eo=()=>(0,xo.jsx)(So.List,{searchBarPlaceholder:"Search vault",isLoading:!0});var vo=require("react"),Ga={token:void 0,passwordHash:void 0,isLoading:!0,isLocked:!1,isAuthenticated:!1},Io=()=>(0,vo.useReducer)((t,e)=>{switch(e.type){case"loadState":{let{type:r,...n}=e;return{...t,...n}}case"lock":return{...t,token:void 0,passwordHash:void 0,isLoading:!1,isLocked:!0};case"unlock":return{...t,token:e.token,passwordHash:e.passwordHash,isLocked:!1,isAuthenticated:!0};case"logout":return{...t,token:void 0,passwordHash:void 0,isLocked:!0,isAuthenticated:!1,isLoading:!1};case"vaultTimeout":return{...t,isLocked:!0};case"finishLoadingSavedState":{if(!t.token||!t.passwordHash)throw new Error("Missing required fields: token, passwordHash");let r=!!t.token;return{...t,isLoading:!1,isLocked:!r,isAuthenticated:r}}case"failLoadingSavedState":return{...t,isLoading:!1,isLocked:!0};default:return t}},Ga);var ae=require("@raycast/api");var To=require("child_process"),Po=require("util");var za=(0,Po.promisify)(To.exec),yt={getSavedSession:()=>Promise.all([ae.LocalStorage.getItem(N.SESSION_TOKEN),ae.LocalStorage.getItem(N.REPROMPT_HASH),ae.LocalStorage.getItem(N.LAST_ACTIVITY_TIME),ae.LocalStorage.getItem(N.VAULT_LAST_STATUS)]),clearSession:async()=>{await Promise.all([ae.LocalStorage.removeItem(N.SESSION_TOKEN),ae.LocalStorage.removeItem(N.REPROMPT_HASH)])},saveSession:async(t,e)=>{await Promise.all([ae.LocalStorage.setItem(N.SESSION_TOKEN,t),ae.LocalStorage.setItem(N.REPROMPT_HASH,e)])},logoutClearSession:async()=>{await Promise.all([ae.LocalStorage.removeItem(N.SESSION_TOKEN),ae.LocalStorage.removeItem(N.REPROMPT_HASH),ae.LocalStorage.removeItem(N.LAST_ACTIVITY_TIME)])}},ko=t=>Lo(t,e=>Co(e,"handleUnlockResult")),$o=t=>Lo(t,e=>Co(e,"sleep 0"));function Co(t,e){return za(`log show --style syslog --predicate "process == 'loginwindow'" --info --last ${t}h | grep "${e}" | tail -n 1`)}async function Lo(t,e){let r=await Ao(e);return r?new Date(r).getTime()>t.getTime():!0}var Wa=2,Ha=5;async function Ao(t,e=1,r=0){try{if(r>Ha){ro("Max retry attempts reached to get last screen lock time");return}let{stdout:n,stderr:s}=await t(e),[o,i]=n?.split(" ")??[];if(s||!o||!i)return Ao(t,e+Wa,r+1);let a=new Date(`${o}T${i}`);return!a||a.toString()==="Invalid Date"?void 0:a}catch(n){v("Failed to get last screen lock time",n);return}}var Zt=require("react/jsx-runtime"),Ro=(0,$e.createContext)(null);function Ur(t){let{children:e,loadingFallback:r=(0,Zt.jsx)(Eo,{}),unlock:n}=t,s=ue(),[o,i]=Io(),a=(0,$e.useRef)(Promise.resolve());fe(c,s);async function c(){try{s.setActionListener("lock",x).setActionListener("unlock",f).setActionListener("logout",S);let[p,w,m,T]=await yt.getSavedSession();if(!p||!w)throw new ke;if(i({type:"loadState",token:p,passwordHash:w}),s.setSessionToken(p),s.wasCliUpdated)throw new wt(Ge.CLI_UPDATED);if(T==="locked")throw new ke;if(T==="unauthenticated")throw new wt;if(m){let I=new Date(m),R=+(0,et.getPreferenceValues)().repromptIgnoreDuration;if(M==="macos"&&R===Z.SYSTEM_LOCK){if(await ko(I))throw new ke(Ge.SYSTEM_LOCK)}else if(M==="macos"&&R===Z.SYSTEM_SLEEP){if(await $o(I))throw new ke(Ge.SYSTEM_SLEEP)}else if(R!==Z.NEVER){let F=Date.now()-I.getTime();if(R===Z.IMMEDIATELY||F>=R)throw new ke(Ge.TIMEOUT)}}i({type:"finishLoadingSavedState"})}catch(p){p instanceof ke?a.current=s.lock({reason:p.message,immediate:!0,checkVaultStatus:!0}):p instanceof wt?a.current=s.logout({reason:p.message,immediate:!0}):(a.current=s.lock({immediate:!0}),i({type:"failLoadingSavedState"}),v("Failed to bootstrap session state",p))}}async function f(p,w){let m=await xr(p);await yt.saveSession(w,m),await et.LocalStorage.removeItem(N.VAULT_LOCK_REASON),i({type:"unlock",token:w,passwordHash:m})}async function x(p){await ja(),p&&await et.LocalStorage.setItem(N.VAULT_LOCK_REASON,p),i({type:"lock"})}async function S(p){await Ka(),p&&await et.LocalStorage.setItem(N.VAULT_LOCK_REASON,p),i({type:"logout"})}async function b(p){return await xr(p)===o.passwordHash}let P=(0,$e.useMemo)(()=>({token:o.token,isLoading:o.isLoading,isAuthenticated:o.isAuthenticated,isLocked:o.isLocked,active:!o.isLoading&&o.isAuthenticated&&!o.isLocked,confirmMasterPassword:b}),[o,b]);if(o.isLoading)return r;let y=o.isLocked||!o.isAuthenticated,E=o.token?e:null;return(0,Zt.jsx)(Ro.Provider,{value:P,children:y&&n?(0,Zt.jsx)(bo,{pendingAction:a.current}):E})}async function ja(){await yt.clearSession()}async function Ka(){await yt.logoutClearSession(),J.clear()}function Vr(){let t=(0,$e.useContext)(Ro);if(t==null)throw new Error("useSession must be used within a SessionProvider");return t}var ke=class extends Error{constructor(e){super(e)}},wt=class extends Error{constructor(e){super(e)}};var Ya=require("react/jsx-runtime");var Za=require("react/jsx-runtime");var j=require("@raycast/api");var Oo=require("child_process"),_o=require("util");var Br=require("fs"),No=require("path");var Do=require("react/jsx-runtime"),Ja=(0,_o.promisify)(Oo.exec),{supportPath:Xa}=j.environment,Qa=()=>{let{clientId:t,clientSecret:e,fetchFavicons:r,generatePasswordQuickAction:n,repromptIgnoreDuration:s,serverCertsPath:o,serverUrl:i,shouldCacheVaultItems:a,transientCopyGeneratePassword:c,transientCopyGeneratePasswordQuick:f,transientCopySearch:x,windowActionOnCopy:S}=(0,j.getPreferenceValues)();return{has_clientId:!!t,has_clientSecret:!!e,fetchFavicons:r,generatePasswordQuickAction:n,repromptIgnoreDuration:s,has_serverCertsPath:!!o,has_serverUrl:!!i,shouldCacheVaultItems:a,transientCopyGeneratePassword:c,transientCopyGeneratePasswordQuick:f,transientCopySearch:x,windowActionOnCopy:S}},ee="N/A",Ce=async(t,e=!0)=>{try{let r=t;M==="windows"?r=`powershell -Command "${t}"`:r=`PATH="$PATH:${(0,No.dirname)(process.execPath)}" ${t}`;let{stdout:n}=await Ja(r,{env:{BITWARDENCLI_APPDATA_DIR:Xa}}),s=n.trim();return e?s.replace(/\n|\r/g,""):s}catch(r){return v(`Failed to execute command: ${t}`,r),ee}},ec=()=>{try{let t=(0,j.getPreferenceValues)().cliPath;return t?{type:"custom",path:t}:ne.path.bin===ne.path.downloadedBin?{type:"downloaded",path:ne.path.downloadedBin}:{type:"installed",path:ne.path.installedBin}}catch{return{type:ee,path:ee}}},tc=async()=>{try{let t="/opt/homebrew/bin/brew";if((0,Br.existsSync)(t)||(t="/usr/local/bin/brew"),!(0,Br.existsSync)(t))return{arch:ee,version:ee};let e=await Ce(`${t} config`,!1);if(e===ee)return{arch:ee,version:ee};let r=/HOMEBREW_PREFIX: (.+)/.exec(e)?.[1]||ee,n=/HOMEBREW_VERSION: (.+)/.exec(e)?.[1]||ee;return{arch:r!==ee?r.includes("/opt/homebrew")?"arm64":"x86_64":ee,version:n}}catch{return{arch:ee,version:ee}}};function rc(){let t=async()=>{let e=await(0,j.showToast)(j.Toast.Style.Animated,"Collecting data...");try{let r=Qa(),n=ec(),[s,o,i,a]=await Promise.all([...M==="macos"?[Ce("uname -m"),Ce("sw_vers -productVersion"),Ce("sw_vers -buildVersion")]:[Ce("(Get-CimInstance Win32_OperatingSystem).OSArchitecture"),Ce("(Get-CimInstance Win32_OperatingSystem).Caption"),Ce("(Get-CimInstance Win32_OperatingSystem).Version")],Ce(`${n.path} --version`)]),c={raycast:{version:j.environment.raycastVersion},system:{arch:s,version:o,buildVersion:i},node:{arch:process.arch,version:process.version},cli:{type:n.type,version:a},preferences:r};if(M==="macos"){let f=await tc();c.homebrew={arch:f.arch,version:f.version}}await j.Clipboard.copy(JSON.stringify(c,null,2)),e.style=j.Toast.Style.Success,e.title="Data copied to clipboard"}catch(r){e.style=j.Toast.Style.Failure,e.title="Failed to collect bug report data",v("Failed to collect bug report data",r)}};return(0,Do.jsx)(j.Action,{title:"Collect Bug Report Data",icon:j.Icon.Bug,onAction:t})}var pt=rc;var Y=require("@raycast/api");var Fo=require("react/jsx-runtime");function nc(){return(0,Fo.jsx)(Y.Action,{onAction:async()=>{let e=Xe.toString();if(e.length===0)return(0,Y.showToast)(Y.Toast.Style.Success,"No errors to copy");await Y.Clipboard.copy(e),await(0,Y.showToast)(Y.Toast.Style.Success,"Errors copied to clipboard"),await(0,Y.confirmAlert)({title:"Be careful with this information",message:"Please be mindful of where you share this error log, as it may contain sensitive information. Always analyze it before sharing.",primaryAction:{title:"Got it",style:Y.Alert.ActionStyle.Default}})},title:"Copy Last Errors",icon:Y.Icon.CopyClipboard,style:Y.Action.Style.Regular})}var Gr=nc;var Mo=require("@raycast/api");var Uo=require("react");var sc=()=>{let t=J.get(re.CLI_VERSION);return t?parseFloat(t):-1},Vo=()=>{let[t,e]=(0,Uo.useState)(sc);return fe(()=>{J.subscribe((r,n)=>{n&&r===re.CLI_VERSION&&e(parseFloat(n)||-1)})}),t};var tt=require("react/jsx-runtime");function gt(){let t=Vo();return(0,tt.jsxs)(Mo.ActionPanel.Section,{title:`Debugging & Bug Reporting (CLI v${t})`,children:[(0,tt.jsx)(Gr,{}),(0,tt.jsx)(ft,{}),(0,tt.jsx)(pt,{})]})}var rt=require("@raycast/api");var he=require("@raycast/api"),Re=require("react");var Le=require("react");var Wo=require("react/jsx-runtime"),Bo=(0,Le.createContext)(null),oc=({children:t})=>{let e=(0,Le.useRef)(new Map),r=o=>{o instanceof Ze?e.current.forEach(i=>i(o)):e.current.forEach((i,a)=>{let c=o.find(f=>f.id===a);c&&i(c)})},n=(o,i)=>(e.current.set(o,i),()=>{e.current.delete(o)}),s=(0,Le.useMemo)(()=>({listeners:e,publishItems:r,subscribeItem:n}),[]);return(0,Wo.jsx)(Bo.Provider,{value:s,children:t})},Go=()=>{let t=(0,Le.useContext)(Bo);if(t==null)throw new Error("useVaultItemPublisher must be used within a VaultListenersProvider");return t.publishItems};var zo=oc;var Jo=require("@raycast/api");function Ho(t){return t.map(e=>({object:e.object,id:e.id,organizationId:e.organizationId,folderId:e.folderId,type:e.type,name:e.name,revisionDate:e.revisionDate,creationDate:e.creationDate,deletedDate:e.deletedDate,favorite:e.favorite,reprompt:e.reprompt,collectionIds:e.collectionIds,secureNote:e.secureNote?{type:e.secureNote.type}:void 0,fields:ic(e.fields),login:ac(e.login),identity:cc(e.identity),card:lc(e.card),passwordHistory:uc(e.passwordHistory),notes:O(e.notes),sshKey:dc(e.sshKey)}))}function jo(t){return t.map(e=>({object:e.object,id:e.id,name:e.name}))}function ic(t){return t?.map(e=>({name:e.name,value:O(e.value),type:e.type,linkedId:e.linkedId}))}function ac(t){if(t)return{username:t.username,uris:t.uris,password:O(t.password),passwordRevisionDate:O(t.passwordRevisionDate),totp:O(t.totp)}}function cc(t){if(t)return{title:O(t.title),firstName:O(t.firstName),middleName:O(t.middleName),lastName:O(t.lastName),address1:O(t.address1),address2:O(t.address2),address3:O(t.address3),city:O(t.city),state:O(t.state),postalCode:O(t.postalCode),country:O(t.country),company:O(t.company),email:O(t.email),phone:O(t.phone),ssn:O(t.ssn),username:O(t.username),passportNumber:O(t.passportNumber),licenseNumber:O(t.licenseNumber)}}function lc(t){if(t)return{brand:t.brand,cardholderName:O(t.cardholderName),number:O(t.number),expMonth:O(t.expMonth),expYear:O(t.expYear),code:O(t.code)}}function uc(t){return t?.map(e=>({password:O(e.password),lastUsedDate:O(e.lastUsedDate)}))}function dc(t){if(t)return{publicKey:t.publicKey,keyFingerprint:t.keyFingerprint,privateKey:O(t.privateKey)}}function O(t){return t&&nn}var Yo=require("@raycast/api"),Ae=require("crypto"),qo=require("react"),Ko="aes-256-cbc";function Zo(){let{clientSecret:t}=(0,Yo.getPreferenceValues)(),e=(0,qo.useMemo)(()=>fc(t.trim()),[t]);return{encrypt:s=>{let o=(0,Ae.randomBytes)(16),i=(0,Ae.createCipheriv)(Ko,e,o),a=Buffer.concat([i.update(s),i.final()]);return{iv:o.toString("hex"),content:a.toString("hex")}},decrypt:(s,o)=>{let i=(0,Ae.createDecipheriv)(Ko,e,Buffer.from(o,"hex"));return Buffer.concat([i.update(Buffer.from(s,"hex")),i.final()]).toString()}}}function fc(t){return Buffer.from((0,Ae.createHash)("sha256").update(t).digest("base64").slice(0,32))}function mc(){let{encrypt:t,decrypt:e}=Zo(),r=(0,Jo.getPreferenceValues)().shouldCacheVaultItems;return fe(()=>{J.isEmpty||J.clear()},!r),{getCachedVault:()=>{try{if(!r)throw new Me;let o=J.get(re.IV),i=J.get(re.VAULT);if(!o||!i)throw new Me;let a=e(i,o);return JSON.parse(a)}catch(o){return o instanceof Me||v("Failed to decrypt cached vault",o),{items:[],folders:[]}}},cacheVault:(o,i)=>{try{if(!r)throw new Me;let a=JSON.stringify({items:Ho(o),folders:jo(i)}),c=t(a);J.set(re.VAULT,c.content),J.set(re.IV,c.iv)}catch(a){a instanceof Me||v("Failed to cache vault",a)}}}}var Me=class extends Error{},Xo=mc;var ti=require("react/jsx-runtime"),Qo=(0,Re.createContext)(null);function pc(){return{items:[],folders:[],isLoading:!0}}var{syncOnLaunch:hc}=(0,he.getPreferenceValues)();function ei(t){let{children:e}=t,r=Vr(),n=ue(),s=Go(),{getCachedVault:o,cacheVault:i}=Xo(),[a,c]=Xr(re.CURRENT_FOLDER_ID,null),[f,x]=(0,Re.useReducer)((p,w)=>({...p,...w}),{...pc(),...o()});fe(()=>{hc?b({isInitial:!0}):S()},r.active&&r.token);async function S(){try{x({isLoading:!0});let p=[],w=[];try{let[m,T]=await Promise.all([n.listItems(),n.listFolders()]);if(m.error)throw m.error;if(T.error)throw T.error;p=m.result,w=T.result,p.sort(yc)}catch(m){throw s(new Ze),m}x({items:p,folders:w}),s(p),i(p,w)}catch(p){await(0,he.showToast)(he.Toast.Style.Failure,"Failed to load vault items",Ir(p)),v("Failed to load vault items",p)}finally{x({isLoading:!1})}}async function b(p){let{isInitial:w=!1}=p??{},m=await(0,he.showToast)({title:"Syncing vault...",message:w?"Background task":void 0,style:he.Toast.Style.Animated});try{await n.sync(),await S(),await m.hide()}catch(T){await n.logout(),m.style=he.Toast.Style.Failure,m.title="Failed to sync vault",m.message=Ir(T)}}function P(p){c(typeof p=="string"?p:p?.id)}function y(p){let w=typeof p=="function"?p(f):p;x(w),i(w.items,w.folders)}let E=(0,Re.useMemo)(()=>({...f,items:gc(f.items,a),isEmpty:f.items.length==0,isLoading:f.isLoading||r.isLoading,currentFolderId:a,syncItems:b,loadItems:S,setCurrentFolder:P,updateState:y}),[f,r.isLoading,a,b,S,P,y]);return(0,ti.jsx)(Qo.Provider,{value:E,children:e})}function gc(t,e){return!e||e===Ne.ALL?t:e===Ne.NO_FOLDER?t.filter(r=>r.folderId===null):t.filter(r=>r.folderId===e)}function yc(t,e){return t.favorite&&e.favorite?0:t.favorite?-1:1}var zr=()=>{let t=(0,Re.useContext)(Qo);if(t==null)throw new Error("useVault must be used within a VaultProvider");return t};var ri=require("react/jsx-runtime");var nt=require("@raycast/api"),ni=require("react");var Wr=require("react/jsx-runtime"),bt=class extends ni.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}async componentDidCatch(e,r){e instanceof de?(this.setState(n=>({...n,hasError:!0,error:e.message})),await(0,nt.showToast)(nt.Toast.Style.Failure,e.message)):(nt.environment.isDevelopment&&this.setState(n=>({...n,hasError:!0,error:e.message})),console.error("Error:",e,r))}render(){try{return this.state.hasError?(0,Wr.jsx)(mt,{error:this.state.error}):this.props.children}catch{return(0,Wr.jsx)(mt,{})}}};var U=require("react/jsx-runtime"),wc=()=>(0,U.jsx)(bt,{children:(0,U.jsx)(po,{children:(0,U.jsx)(Ur,{unlock:!0,children:(0,U.jsx)(zo,{children:(0,U.jsx)(ei,{children:(0,U.jsx)(bc,{})})})})})});function bc(){let t=ue(),{folders:e}=zr(),[r,n]=(0,St.useState)(!1);async function s(y){let E=await(0,$.showToast)({title:"Creating Login...",style:$.Toast.Style.Animated});n(!0);try{let{name:p,username:w,visiblePassword:m,hiddenPassword:T,folderId:I,uri:R}=y,F=o?m:T,X=I===Ne.NO_FOLDER?null:I,{error:Q}=await t.createLoginItem({name:p,username:w||void 0,password:F,folderId:X,uri:R||void 0});if(Q)throw Q;E.style=$.Toast.Style.Success,E.title="Login created",E.message=p,x(),await(0,$.showHUD)(`Login created: ${p}`,{clearRootSearch:!0,popToRootType:$.PopToRootType.Immediate})}catch{E.style=$.Toast.Style.Failure,E.title="Failed to create login",E.message=void 0}finally{n(!1)}}let[o,i]=(0,St.useState)(!1),{itemProps:a,handleSubmit:c,focus:f,reset:x}=Qr({onSubmit:s,initialValues:{name:"",username:"",visiblePassword:"",hiddenPassword:"",folderId:Ne.NO_FOLDER,uri:""},validation:{name:Tt.Required,visiblePassword:o?Tt.Required:void 0,hiddenPassword:o?void 0:Tt.Required}}),S=()=>{i(y=>{let E=!y;return setTimeout(()=>f(E?"visiblePassword":"hiddenPassword"),0),E})};(0,St.useEffect)(()=>{f("name")},[]);let b=async()=>{if(r)return;let y=await(0,$.showToast)({title:"Generating password...",style:$.Toast.Style.Animated});try{let E=await Bs(),p=await t.generatePassword(E);a.visiblePassword.onChange?.(p),a.hiddenPassword.onChange?.(p),await $.Clipboard.copy(p),y.title="Password generated and copied",y.style=$.Toast.Style.Success}catch{y.title="Failed to generate password",y.style=$.Toast.Style.Failure}},P={title:"Password",placeholder:"Enter password",onChange:y=>{a.visiblePassword.onChange?.(y),a.hiddenPassword.onChange?.(y)}};return(0,U.jsxs)($.Form,{isLoading:r,actions:(0,U.jsxs)($.ActionPanel,{children:[(0,U.jsx)($.Action.SubmitForm,{title:"Create Login",onSubmit:c,icon:$.Icon.NewDocument}),(0,U.jsx)($.Action,{icon:o?$.Icon.EyeDisabled:$.Icon.Eye,title:o?"Hide Password":"Show Password",onAction:S,shortcut:{macOS:{key:"e",modifiers:["opt"]},Windows:{key:"e",modifiers:["alt"]}}}),(0,U.jsx)($.Action,{icon:$.Icon.Key,title:"Generate Password",onAction:b,shortcut:{macOS:{key:"g",modifiers:["opt"]},Windows:{key:"g",modifiers:["alt"]}}}),(0,U.jsx)(gt,{})]}),children:[(0,U.jsx)($.Form.TextField,{...a.name,title:"Name",placeholder:"GitHub, Gmail",storeValue:!1}),(0,U.jsx)($.Form.Dropdown,{...a.folderId,title:"Folder",placeholder:"Select folder",storeValue:!1,children:e.map(y=>(0,U.jsx)($.Form.Dropdown.Item,{value:y.id??Ne.NO_FOLDER,title:y.name,icon:$.Icon.Folder},y.id))}),(0,U.jsx)($.Form.TextField,{...a.username,title:"Username",placeholder:"john.doe@mail.com",storeValue:!1}),(0,U.jsx)($.Form.TextField,{...a.uri,title:"Website URI",placeholder:"example.com",storeValue:!1}),o?(0,U.jsx)($.Form.TextField,{...a.visiblePassword,...P}):(0,U.jsx)($.Form.PasswordField,{...a.hiddenPassword,...P}),(0,U.jsx)($.Form.Description,{title:"",text:`Press ${M==="macos"?"\u2325":"Alt"}+E to ${o?"hide":"show"} password
Press ${M==="macos"?"\u2325":"Alt"}+G to generate password`})]})}var Sc=wc;
/*! Bundled license information:

node-stream-zip/node_stream_zip.js:
  (**
   * @license node-stream-zip | (c) 2020 Antelle | https://github.com/antelle/node-stream-zip/blob/master/LICENSE
   * Portions copyright https://github.com/cthackers/adm-zip | https://raw.githubusercontent.com/cthackers/adm-zip/master/LICENSE
   *)
*/
