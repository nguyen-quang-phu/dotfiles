"use strict";var fo=Object.create;var it=Object.defineProperty;var po=Object.getOwnPropertyDescriptor;var mo=Object.getOwnPropertyNames;var ho=Object.getPrototypeOf,go=Object.prototype.hasOwnProperty;var A=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),yo=(t,e)=>{for(var r in e)it(t,r,{get:e[r],enumerable:!0})},kr=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of mo(e))!go.call(t,s)&&s!==r&&it(t,s,{get:()=>e[s],enumerable:!(n=po(e,s))||n.enumerable});return t};var B=(t,e,r)=>(r=t!=null?fo(ho(t)):{},kr(e||!t||!t.__esModule?it(r,"default",{value:t,enumerable:!0}):r,t)),wo=t=>kr(it({},"__esModule",{value:!0}),t);var Ur=A((Da,Fr)=>{Fr.exports=Dr;Dr.sync=xo;var _r=require("fs");function Eo(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var s=r[n].toLowerCase();if(s&&t.substr(-s.length).toLowerCase()===s)return!0}return!1}function Nr(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:Eo(e,r)}function Dr(t,e,r){_r.stat(t,function(n,s){r(n,n?!1:Nr(s,t,e))})}function xo(t,e){return Nr(_r.statSync(t),t,e)}});var zr=A((Fa,Gr)=>{Gr.exports=Vr;Vr.sync=Io;var Mr=require("fs");function Vr(t,e,r){Mr.stat(t,function(n,s){r(n,n?!1:Br(s,e))})}function Io(t,e){return Br(Mr.statSync(t),e)}function Br(t,e){return t.isFile()&&vo(t,e)}function vo(t,e){var r=t.mode,n=t.uid,s=t.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),i=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),u=parseInt("100",8),c=parseInt("010",8),p=parseInt("001",8),y=u|c,S=r&p||r&c&&s===i||r&u&&n===o||r&y&&o===0;return S}});var Hr=A((Ma,Wr)=>{var Ua=require("fs"),at;process.platform==="win32"||global.TESTING_WINDOWS?at=Ur():at=zr();Wr.exports=Nt;Nt.sync=To;function Nt(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,s){Nt(t,e||{},function(o,i){o?s(o):n(i)})})}at(t,e||{},function(n,s){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,s=!1),r(n,s)})}function To(t,e){try{return at.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var Xr=A((Va,Jr)=>{var Ce=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",jr=require("path"),Po=Ce?";":":",Kr=Hr(),Yr=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),Zr=(t,e)=>{let r=e.colon||Po,n=t.match(/\//)||Ce&&t.match(/\\/)?[""]:[...Ce?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],s=Ce?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=Ce?s.split(r):[""];return Ce&&t.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:s}},qr=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:n,pathExt:s,pathExtExe:o}=Zr(t,e),i=[],u=p=>new Promise((y,S)=>{if(p===n.length)return e.all&&i.length?y(i):S(Yr(t));let b=n[p],P=/^".*"$/.test(b)?b.slice(1,-1):b,I=jr.join(P,t),R=!P&&/^\.[\\\/]/.test(t)?t.slice(0,2)+I:I;y(c(R,p,0))}),c=(p,y,S)=>new Promise((b,P)=>{if(S===s.length)return b(u(y+1));let I=s[S];Kr(p+I,{pathExt:o},(R,j)=>{if(!R&&j)if(e.all)i.push(p+I);else return b(p+I);return b(c(p,y,S+1))})});return r?u(0).then(p=>r(null,p),r):u(0)},ko=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:n,pathExtExe:s}=Zr(t,e),o=[];for(let i=0;i<r.length;i++){let u=r[i],c=/^".*"$/.test(u)?u.slice(1,-1):u,p=jr.join(c,t),y=!c&&/^\.[\\\/]/.test(t)?t.slice(0,2)+p:p;for(let S=0;S<n.length;S++){let b=y+n[S];try{if(Kr.sync(b,{pathExt:s}))if(e.all)o.push(b);else return b}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw Yr(t)};Jr.exports=qr;qr.sync=ko});var en=A((Ba,Dt)=>{"use strict";var Qr=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Dt.exports=Qr;Dt.exports.default=Qr});var sn=A((Ga,nn)=>{"use strict";var tn=require("path"),Co=Xr(),$o=en();function rn(t,e){let r=t.options.env||process.env,n=process.cwd(),s=t.options.cwd!=null,o=s&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(t.options.cwd)}catch{}let i;try{i=Co.sync(t.command,{path:r[$o({env:r})],pathExt:e?tn.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return i&&(i=tn.resolve(s?t.options.cwd:"",i)),i}function Ao(t){return rn(t)||rn(t,!0)}nn.exports=Ao});var on=A((za,Ut)=>{"use strict";var Ft=/([()\][%!^"`<>&|;, *?])/g;function Lo(t){return t=t.replace(Ft,"^$1"),t}function Ro(t,e){return t=`${t}`,t=t.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),t=t.replace(/(?=(\\+?)?)\1$/,"$1$1"),t=`"${t}"`,t=t.replace(Ft,"^$1"),e&&(t=t.replace(Ft,"^$1")),t}Ut.exports.command=Lo;Ut.exports.argument=Ro});var cn=A((Wa,an)=>{"use strict";an.exports=/^#!(.*)/});var un=A((Ha,ln)=>{"use strict";var Oo=cn();ln.exports=(t="")=>{let e=t.match(Oo);if(!e)return null;let[r,n]=e[0].replace(/#! ?/,"").split(" "),s=r.split("/").pop();return s==="env"?n:n?`${s} ${n}`:s}});var fn=A((ja,dn)=>{"use strict";var Mt=require("fs"),_o=un();function No(t){let r=Buffer.alloc(150),n;try{n=Mt.openSync(t,"r"),Mt.readSync(n,r,0,150,0),Mt.closeSync(n)}catch{}return _o(r.toString())}dn.exports=No});var gn=A((Ka,hn)=>{"use strict";var Do=require("path"),pn=sn(),mn=on(),Fo=fn(),Uo=process.platform==="win32",Mo=/\.(?:com|exe)$/i,Vo=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Bo(t){t.file=pn(t);let e=t.file&&Fo(t.file);return e?(t.args.unshift(t.file),t.command=e,pn(t)):t.file}function Go(t){if(!Uo)return t;let e=Bo(t),r=!Mo.test(e);if(t.options.forceShell||r){let n=Vo.test(e);t.command=Do.normalize(t.command),t.command=mn.command(t.command),t.args=t.args.map(o=>mn.argument(o,n));let s=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${s}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function zo(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let n={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?n:Go(n)}hn.exports=zo});var bn=A((Ya,wn)=>{"use strict";var Vt=process.platform==="win32";function Bt(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function Wo(t,e){if(!Vt)return;let r=t.emit;t.emit=function(n,s){if(n==="exit"){let o=yn(s,e);if(o)return r.call(t,"error",o)}return r.apply(t,arguments)}}function yn(t,e){return Vt&&t===1&&!e.file?Bt(e.original,"spawn"):null}function Ho(t,e){return Vt&&t===1&&!e.file?Bt(e.original,"spawnSync"):null}wn.exports={hookChildProcess:Wo,verifyENOENT:yn,verifyENOENTSync:Ho,notFoundError:Bt}});var xn=A((Za,$e)=>{"use strict";var Sn=require("child_process"),Gt=gn(),zt=bn();function En(t,e,r){let n=Gt(t,e,r),s=Sn.spawn(n.command,n.args,n.options);return zt.hookChildProcess(s,n),s}function jo(t,e,r){let n=Gt(t,e,r),s=Sn.spawnSync(n.command,n.args,n.options);return s.error=s.error||zt.verifyENOENTSync(s.status,n),s}$e.exports=En;$e.exports.spawn=En;$e.exports.sync=jo;$e.exports._parse=Gt;$e.exports._enoent=zt});var Nn=A((mc,dt)=>{dt.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&dt.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&dt.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Vn=A((hc,Oe)=>{var T=global.process,Ee=function(t){return t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function"};Ee(T)?(Dn=require("assert"),Le=Nn(),Fn=/^win/i.test(T.platform),We=require("events"),typeof We!="function"&&(We=We.EventEmitter),T.__signal_exit_emitter__?N=T.__signal_exit_emitter__:(N=T.__signal_exit_emitter__=new We,N.count=0,N.emitted={}),N.infinite||(N.setMaxListeners(1/0),N.infinite=!0),Oe.exports=function(t,e){if(!Ee(global.process))return function(){};Dn.equal(typeof t,"function","a callback must be provided for exit handler"),Re===!1&&Yt();var r="exit";e&&e.alwaysLast&&(r="afterexit");var n=function(){N.removeListener(r,t),N.listeners("exit").length===0&&N.listeners("afterexit").length===0&&ft()};return N.on(r,t),n},ft=function(){!Re||!Ee(global.process)||(Re=!1,Le.forEach(function(e){try{T.removeListener(e,pt[e])}catch{}}),T.emit=mt,T.reallyExit=Zt,N.count-=1)},Oe.exports.unload=ft,xe=function(e,r,n){N.emitted[e]||(N.emitted[e]=!0,N.emit(e,r,n))},pt={},Le.forEach(function(t){pt[t]=function(){if(Ee(global.process)){var r=T.listeners(t);r.length===N.count&&(ft(),xe("exit",null,t),xe("afterexit",null,t),Fn&&t==="SIGHUP"&&(t="SIGINT"),T.kill(T.pid,t))}}}),Oe.exports.signals=function(){return Le},Re=!1,Yt=function(){Re||!Ee(global.process)||(Re=!0,N.count+=1,Le=Le.filter(function(e){try{return T.on(e,pt[e]),!0}catch{return!1}}),T.emit=Mn,T.reallyExit=Un)},Oe.exports.load=Yt,Zt=T.reallyExit,Un=function(e){Ee(global.process)&&(T.exitCode=e||0,xe("exit",T.exitCode,null),xe("afterexit",T.exitCode,null),Zt.call(T,T.exitCode))},mt=T.emit,Mn=function(e,r){if(e==="exit"&&Ee(global.process)){r!==void 0&&(T.exitCode=r);var n=mt.apply(this,arguments);return xe("exit",T.exitCode,null),xe("afterexit",T.exitCode,null),n}else return mt.apply(this,arguments)}):Oe.exports=function(){return function(){}};var Dn,Le,Fn,We,N,ft,xe,pt,Re,Yt,Zt,Un,mt,Mn});var qn=A((wc,Zn)=>{"use strict";var{PassThrough:gi}=require("stream");Zn.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,n=r==="buffer",s=!1;e?s=!(r||n):r=r||"utf8",n&&(r=null);let o=new gi({objectMode:s});r&&o.setEncoding(r);let i=0,u=[];return o.on("data",c=>{u.push(c),s?i=u.length:i+=c.length}),o.getBufferedValue=()=>e?u:n?Buffer.concat(u,i):u.join(""),o.getBufferedLength=()=>i,o}});var Jn=A((bc,He)=>{"use strict";var{constants:yi}=require("buffer"),wi=require("stream"),{promisify:bi}=require("util"),Si=qn(),Ei=bi(wi.pipeline),ht=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function qt(t,e){if(!t)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,n=Si(e);return await new Promise((s,o)=>{let i=u=>{u&&n.getBufferedLength()<=yi.MAX_LENGTH&&(u.bufferedData=n.getBufferedValue()),o(u)};(async()=>{try{await Ei(t,n),s()}catch(u){i(u)}})(),n.on("data",()=>{n.getBufferedLength()>r&&i(new ht)})}),n.getBufferedValue()}He.exports=qt;He.exports.buffer=(t,e)=>qt(t,{...e,encoding:"buffer"});He.exports.array=(t,e)=>qt(t,{...e,array:!0});He.exports.MaxBufferError=ht});var Qn=A((Sc,Xn)=>{"use strict";var{PassThrough:xi}=require("stream");Xn.exports=function(){var t=[],e=new xi({objectMode:!0});return e.setMaxListeners(0),e.add=r,e.isEmpty=n,e.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(r),e;function r(o){return Array.isArray(o)?(o.forEach(r),this):(t.push(o),o.once("end",s.bind(null,o)),o.once("error",e.emit.bind(e,"error")),o.pipe(e,{end:!1}),this)}function n(){return t.length==0}function s(o){t=t.filter(function(i){return i!==o}),!t.length&&e.readable&&e.end()}}});var Es=A((el,Ss)=>{var J=require("fs"),_i=require("util"),_e=require("path"),ur=require("events"),gs=require("zlib"),bs=require("stream"),l={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSIGFIRST:80,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,MAXFILECOMMENT:65535,ENDL64HDR:20,ENDL64SIG:117853008,ENDL64SIGFIRST:80,ENDL64OFS:8,END64HDR:56,END64SIG:101075792,END64SIGFIRST:80,END64SUB:24,END64TOT:32,END64SIZ:40,END64OFF:48,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,FLG_ENC:0,FLG_COMP1:1,FLG_COMP2:2,FLG_DESC:4,FLG_ENH:8,FLG_STR:16,FLG_LNG:1024,FLG_MSK:4096,FLG_ENTRY_ENC:1,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535},pe=function(t){let e,r,n,s,o,i,c=this,p=t.storeEntries!==!1?{}:null,y=t.file,S=t.nameEncoding?new TextDecoder(t.nameEncoding):null;b();function b(){t.fd?(e=t.fd,P()):J.open(y,"r",(a,d)=>{if(a)return c.emit("error",a);e=d,P()})}function P(){J.fstat(e,(a,d)=>{if(a)return c.emit("error",a);r=d.size,n=t.chunkSize||Math.round(r/1e3),n=Math.max(Math.min(n,Math.min(128*1024,r)),Math.min(1024,r)),R()})}function I(a,d){if(a||!d)return c.emit("error",a||new Error("Archive read error"));let m=s.lastPos,f=m-s.win.position,E=s.win.buffer,w=s.minPos;for(;--m>=w&&--f>=0;)if(E.length-f>=4&&E[f]===s.firstByte&&E.readUInt32LE(f)===s.sig){s.lastBufferPosition=f,s.lastBytesRead=d,s.complete();return}if(m===w)return c.emit("error",new Error("Bad archive"));if(s.lastPos=m+1,s.chunkSize*=2,m<=w)return c.emit("error",new Error("Bad archive"));let k=Math.min(s.chunkSize,m-w);s.win.expandLeft(k,I)}function R(){let a=Math.min(l.ENDHDR+l.MAXFILECOMMENT,r);s={win:new bt(e),totalReadLength:a,minPos:r-a,lastPos:r,chunkSize:Math.min(1024,n),firstByte:l.ENDSIGFIRST,sig:l.ENDSIG,complete:j},s.win.read(r-s.chunkSize,s.chunkSize,I)}function j(){let a=s.win.buffer,d=s.lastBufferPosition;try{o=new sr,o.read(a.slice(d,d+l.ENDHDR)),o.headerOffset=s.win.position+d,o.commentLength?c.comment=a.slice(d+l.ENDHDR,d+l.ENDHDR+o.commentLength).toString():c.comment=null,c.entriesCount=o.volumeEntries,c.centralDirectory=o,o.volumeEntries===l.EF_ZIP64_OR_16&&o.totalEntries===l.EF_ZIP64_OR_16||o.size===l.EF_ZIP64_OR_32||o.offset===l.EF_ZIP64_OR_32?v():(s={},q())}catch(m){c.emit("error",m)}}function v(){let a=l.ENDL64HDR;s.lastBufferPosition>a?(s.lastBufferPosition-=a,h()):(s={win:s.win,totalReadLength:a,minPos:s.win.position-a,lastPos:s.win.position,chunkSize:s.chunkSize,firstByte:l.ENDL64SIGFIRST,sig:l.ENDL64SIG,complete:h},s.win.read(s.lastPos-s.chunkSize,s.chunkSize,I))}function h(){let a=s.win.buffer,d=new or;d.read(a.slice(s.lastBufferPosition,s.lastBufferPosition+l.ENDL64HDR));let m=r-d.headerOffset;s={win:s.win,totalReadLength:m,minPos:d.headerOffset,lastPos:s.lastPos,chunkSize:s.chunkSize,firstByte:l.END64SIGFIRST,sig:l.END64SIG,complete:O},s.win.read(r-s.chunkSize,s.chunkSize,I)}function O(){let a=s.win.buffer,d=new ir;d.read(a.slice(s.lastBufferPosition,s.lastBufferPosition+l.END64HDR)),c.centralDirectory.volumeEntries=d.volumeEntries,c.centralDirectory.totalEntries=d.totalEntries,c.centralDirectory.size=d.size,c.centralDirectory.offset=d.offset,c.entriesCount=d.volumeEntries,s={},q()}function q(){s={win:new bt(e),pos:o.offset,chunkSize:n,entriesLeft:o.volumeEntries},s.win.read(s.pos,Math.min(n,r-s.pos),W)}function W(a,d){if(a||!d)return c.emit("error",a||new Error("Entries read error"));let m=s.pos-s.win.position,f=s.entry,E=s.win.buffer,w=E.length;try{for(;s.entriesLeft>0;){f||(f=new ar,f.readHeader(E,m),f.headerOffset=s.win.position+m,s.entry=f,s.pos+=l.CENHDR,m+=l.CENHDR);let k=f.fnameLen+f.extraLen+f.comLen,$=k+(s.entriesLeft>1?l.CENHDR:0);if(w-m<$){s.win.moveRight(n,W,m),s.move=!0;return}f.read(E,m,S),t.skipEntryNameValidation||f.validateName(),p&&(p[f.name]=f),c.emit("entry",f),s.entry=f=null,s.entriesLeft--,s.pos+=k,m+=k}c.emit("ready")}catch(k){c.emit("error",k)}}function K(){if(!p)throw new Error("storeEntries disabled")}Object.defineProperty(this,"ready",{get(){return!1}}),this.entry=function(a){return K(),p[a]},this.entries=function(){return K(),p},this.stream=function(a,d){return this.openEntry(a,(m,f)=>{if(m)return d(m);let E=Be(f),w=new cr(e,E,f.compressedSize);if(f.method!==l.STORED)if(f.method===l.DEFLATED)w=w.pipe(gs.createInflateRaw());else return d(new Error("Unknown compression method: "+f.method));vr(f)&&(w=w.pipe(new lr(w,f.crc,f.size))),d(null,w)},!1)},this.entryDataSync=function(a){let d=null;if(this.openEntry(a,(f,E)=>{d=f,a=E},!0),d)throw d;let m=Buffer.alloc(a.compressedSize);if(new de(e,m,0,a.compressedSize,Be(a),f=>{d=f}).read(!0),d)throw d;if(a.method!==l.STORED)if(a.method===l.DEFLATED||a.method===l.ENHANCED_DEFLATED)m=gs.inflateRawSync(m);else throw new Error("Unknown compression method: "+a.method);if(m.length!==a.size)throw new Error("Invalid size");return vr(a)&&new St(a.crc,a.size).data(m),m},this.openEntry=function(a,d,m){if(typeof a=="string"&&(K(),a=p[a],!a))return d(new Error("Entry not found"));if(!a.isFile)return d(new Error("Entry is not file"));if(!e)return d(new Error("Archive closed"));let f=Buffer.alloc(l.LOCHDR);new de(e,f,0,f.length,a.offset,E=>{if(E)return d(E);let w;try{a.readDataHeader(f),a.encrypted&&(w=new Error("Entry encrypted"))}catch(k){w=k}d(w,a)}).read(m)};function Be(a){return a.offset+l.LOCHDR+a.fnameLen+a.extraLen}function vr(a){return(a.flags&8)!==8}function Ot(a,d,m){c.stream(a,(f,E)=>{if(f)m(f);else{let w,k;E.on("error",$=>{k=$,w&&(E.unpipe(w),w.close(()=>{m($)}))}),J.open(d,"w",($,X)=>{if($)return m($);if(k){J.close(e,()=>{m(k)});return}w=J.createWriteStream(d,{fd:X}),w.on("finish",()=>{c.emit("extract",a,d),k||m()}),E.pipe(w)})}})}function Tr(a,d,m){if(!d.length)return m();let f=d.shift();f=_e.join(a,_e.join(...f)),J.mkdir(f,{recursive:!0},E=>{if(E&&E.code!=="EEXIST")return m(E);Tr(a,d,m)})}function _t(a,d,m,f,E){if(!m.length)return f(null,E);let w=m.shift(),k=_e.join(a,w.name.replace(d,""));Ot(w,k,$=>{if($)return f($,E);_t(a,d,m,f,E+1)})}this.extract=function(a,d,m){let f=a||"";if(typeof a=="string"&&(a=this.entry(a),a?f=a.name:f.length&&f[f.length-1]!=="/"&&(f+="/")),!a||a.isDirectory){let E=[],w=[],k={};for(let $ in p)if(Object.prototype.hasOwnProperty.call(p,$)&&$.lastIndexOf(f,0)===0){let X=$.replace(f,""),Pr=p[$];if(Pr.isFile&&(E.push(Pr),X=_e.dirname(X)),X&&!k[X]&&X!=="."){k[X]=!0;let ie=X.split("/").filter(Ge=>Ge);for(ie.length&&w.push(ie);ie.length>1;){ie=ie.slice(0,ie.length-1);let Ge=ie.join("/");if(k[Ge]||Ge===".")break;k[Ge]=!0,w.push(ie)}}}w.sort(($,X)=>$.length-X.length),w.length?Tr(d,w,$=>{$?m($):_t(d,f,E,m,0)}):_t(d,f,E,m,0)}else J.stat(d,(E,w)=>{w&&w.isDirectory()?Ot(a,_e.join(d,_e.basename(a.name)),m):Ot(a,d,m)})},this.close=function(a){i||!e?(i=!0,a&&a()):(i=!0,J.close(e,d=>{e=null,a&&a(d)}))};let uo=ur.EventEmitter.prototype.emit;this.emit=function(...a){if(!i)return uo.call(this,...a)}};pe.setFs=function(t){J=t};pe.debugLog=(...t)=>{pe.debug&&console.log(...t)};_i.inherits(pe,ur.EventEmitter);var ue=Symbol("zip");pe.async=class extends ur.EventEmitter{constructor(e){super();let r=new pe(e);r.on("entry",n=>this.emit("entry",n)),r.on("extract",(n,s)=>this.emit("extract",n,s)),this[ue]=new Promise((n,s)=>{r.on("ready",()=>{r.removeListener("error",s),n(r)}),r.on("error",s)})}get entriesCount(){return this[ue].then(e=>e.entriesCount)}get comment(){return this[ue].then(e=>e.comment)}async entry(e){return(await this[ue]).entry(e)}async entries(){return(await this[ue]).entries()}async stream(e){let r=await this[ue];return new Promise((n,s)=>{r.stream(e,(o,i)=>{o?s(o):n(i)})})}async entryData(e){let r=await this.stream(e);return new Promise((n,s)=>{let o=[];r.on("data",i=>o.push(i)),r.on("end",()=>{n(Buffer.concat(o))}),r.on("error",i=>{r.removeAllListeners("end"),s(i)})})}async extract(e,r){let n=await this[ue];return new Promise((s,o)=>{n.extract(e,r,(i,u)=>{i?o(i):s(u)})})}async close(){let e=await this[ue];return new Promise((r,n)=>{e.close(s=>{s?n(s):r()})})}};var sr=class{read(e){if(e.length!==l.ENDHDR||e.readUInt32LE(0)!==l.ENDSIG)throw new Error("Invalid central directory");this.volumeEntries=e.readUInt16LE(l.ENDSUB),this.totalEntries=e.readUInt16LE(l.ENDTOT),this.size=e.readUInt32LE(l.ENDSIZ),this.offset=e.readUInt32LE(l.ENDOFF),this.commentLength=e.readUInt16LE(l.ENDCOM)}},or=class{read(e){if(e.length!==l.ENDL64HDR||e.readUInt32LE(0)!==l.ENDL64SIG)throw new Error("Invalid zip64 central directory locator");this.headerOffset=fe(e,l.ENDSUB)}},ir=class{read(e){if(e.length!==l.END64HDR||e.readUInt32LE(0)!==l.END64SIG)throw new Error("Invalid central directory");this.volumeEntries=fe(e,l.END64SUB),this.totalEntries=fe(e,l.END64TOT),this.size=fe(e,l.END64SIZ),this.offset=fe(e,l.END64OFF)}},ar=class{readHeader(e,r){if(e.length<r+l.CENHDR||e.readUInt32LE(r)!==l.CENSIG)throw new Error("Invalid entry header");this.verMade=e.readUInt16LE(r+l.CENVEM),this.version=e.readUInt16LE(r+l.CENVER),this.flags=e.readUInt16LE(r+l.CENFLG),this.method=e.readUInt16LE(r+l.CENHOW);let n=e.readUInt16LE(r+l.CENTIM),s=e.readUInt16LE(r+l.CENTIM+2);this.time=ys(n,s),this.crc=e.readUInt32LE(r+l.CENCRC),this.compressedSize=e.readUInt32LE(r+l.CENSIZ),this.size=e.readUInt32LE(r+l.CENLEN),this.fnameLen=e.readUInt16LE(r+l.CENNAM),this.extraLen=e.readUInt16LE(r+l.CENEXT),this.comLen=e.readUInt16LE(r+l.CENCOM),this.diskStart=e.readUInt16LE(r+l.CENDSK),this.inattr=e.readUInt16LE(r+l.CENATT),this.attr=e.readUInt32LE(r+l.CENATX),this.offset=e.readUInt32LE(r+l.CENOFF)}readDataHeader(e){if(e.readUInt32LE(0)!==l.LOCSIG)throw new Error("Invalid local header");this.version=e.readUInt16LE(l.LOCVER),this.flags=e.readUInt16LE(l.LOCFLG),this.method=e.readUInt16LE(l.LOCHOW);let r=e.readUInt16LE(l.LOCTIM),n=e.readUInt16LE(l.LOCTIM+2);this.time=ys(r,n),this.crc=e.readUInt32LE(l.LOCCRC)||this.crc;let s=e.readUInt32LE(l.LOCSIZ);s&&s!==l.EF_ZIP64_OR_32&&(this.compressedSize=s);let o=e.readUInt32LE(l.LOCLEN);o&&o!==l.EF_ZIP64_OR_32&&(this.size=o),this.fnameLen=e.readUInt16LE(l.LOCNAM),this.extraLen=e.readUInt16LE(l.LOCEXT)}read(e,r,n){let s=e.slice(r,r+=this.fnameLen);this.name=n?n.decode(new Uint8Array(s)):s.toString("utf8");let o=e[r-1];this.isDirectory=o===47||o===92,this.extraLen&&(this.readExtra(e,r),r+=this.extraLen),this.comment=this.comLen?e.slice(r,r+this.comLen).toString():null}validateName(){if(/\\|^\w+:|^\/|(^|\/)\.\.(\/|$)/.test(this.name))throw new Error("Malicious entry: "+this.name)}readExtra(e,r){let n,s,o=r+this.extraLen;for(;r<o;)n=e.readUInt16LE(r),r+=2,s=e.readUInt16LE(r),r+=2,l.ID_ZIP64===n&&this.parseZip64Extra(e,r,s),r+=s}parseZip64Extra(e,r,n){n>=8&&this.size===l.EF_ZIP64_OR_32&&(this.size=fe(e,r),r+=8,n-=8),n>=8&&this.compressedSize===l.EF_ZIP64_OR_32&&(this.compressedSize=fe(e,r),r+=8,n-=8),n>=8&&this.offset===l.EF_ZIP64_OR_32&&(this.offset=fe(e,r),r+=8,n-=8),n>=4&&this.diskStart===l.EF_ZIP64_OR_16&&(this.diskStart=e.readUInt32LE(r))}get encrypted(){return(this.flags&l.FLG_ENTRY_ENC)===l.FLG_ENTRY_ENC}get isFile(){return!this.isDirectory}},de=class{constructor(e,r,n,s,o,i){this.fd=e,this.buffer=r,this.offset=n,this.length=s,this.position=o,this.callback=i,this.bytesRead=0,this.waiting=!1}read(e){pe.debugLog("read",this.position,this.bytesRead,this.length,this.offset),this.waiting=!0;let r;if(e){let n=0;try{n=J.readSync(this.fd,this.buffer,this.offset+this.bytesRead,this.length-this.bytesRead,this.position+this.bytesRead)}catch(s){r=s}this.readCallback(e,r,r?n:null)}else J.read(this.fd,this.buffer,this.offset+this.bytesRead,this.length-this.bytesRead,this.position+this.bytesRead,this.readCallback.bind(this,e))}readCallback(e,r,n){if(typeof n=="number"&&(this.bytesRead+=n),r||!n||this.bytesRead===this.length)return this.waiting=!1,this.callback(r,this.bytesRead);this.read(e)}},bt=class{constructor(e){this.position=0,this.buffer=Buffer.alloc(0),this.fd=e,this.fsOp=null}checkOp(){if(this.fsOp&&this.fsOp.waiting)throw new Error("Operation in progress")}read(e,r,n){this.checkOp(),this.buffer.length<r&&(this.buffer=Buffer.alloc(r)),this.position=e,this.fsOp=new de(this.fd,this.buffer,0,r,this.position,n).read()}expandLeft(e,r){this.checkOp(),this.buffer=Buffer.concat([Buffer.alloc(e),this.buffer]),this.position-=e,this.position<0&&(this.position=0),this.fsOp=new de(this.fd,this.buffer,0,e,this.position,r).read()}expandRight(e,r){this.checkOp();let n=this.buffer.length;this.buffer=Buffer.concat([this.buffer,Buffer.alloc(e)]),this.fsOp=new de(this.fd,this.buffer,n,e,this.position+n,r).read()}moveRight(e,r,n){this.checkOp(),n?this.buffer.copy(this.buffer,0,n):n=0,this.position+=n,this.fsOp=new de(this.fd,this.buffer,this.buffer.length-n,n,this.position+this.buffer.length-n,r).read()}},cr=class extends bs.Readable{constructor(e,r,n){super(),this.fd=e,this.offset=r,this.length=n,this.pos=0,this.readCallback=this.readCallback.bind(this)}_read(e){let r=Buffer.alloc(Math.min(e,this.length-this.pos));r.length?J.read(this.fd,r,0,r.length,this.offset+this.pos,this.readCallback):this.push(null)}readCallback(e,r,n){this.pos+=r,e?(this.emit("error",e),this.push(null)):r?(r!==n.length&&(n=n.slice(0,r)),this.push(n)):this.push(null)}},lr=class extends bs.Transform{constructor(e,r,n){super(),this.verify=new St(r,n),e.on("error",s=>{this.emit("error",s)})}_transform(e,r,n){let s;try{this.verify.data(e)}catch(o){s=o}n(s,e)}},St=class t{constructor(e,r){this.crc=e,this.size=r,this.state={crc:-1,size:0}}data(e){let r=t.getCrcTable(),n=this.state.crc,s=0,o=e.length;for(;--o>=0;)n=r[(n^e[s++])&255]^n>>>8;if(this.state.crc=n,this.state.size+=e.length,this.state.size>=this.size){let i=Buffer.alloc(4);if(i.writeInt32LE(~this.state.crc&4294967295,0),n=i.readUInt32LE(0),n!==this.crc)throw new Error("Invalid CRC");if(this.state.size!==this.size)throw new Error("Invalid size")}}static getCrcTable(){let e=t.crcTable;if(!e){t.crcTable=e=[];let r=Buffer.alloc(4);for(let n=0;n<256;n++){let s=n;for(let o=8;--o>=0;)(s&1)!==0?s=3988292384^s>>>1:s=s>>>1;s<0&&(r.writeInt32LE(s,0),s=r.readUInt32LE(0)),e[n]=s}}return e}};function ys(t,e){let r=ws(t,16),n=ws(e,16),s={h:parseInt(r.slice(0,5).join(""),2),m:parseInt(r.slice(5,11).join(""),2),s:parseInt(r.slice(11,16).join(""),2)*2,Y:parseInt(n.slice(0,7).join(""),2)+1980,M:parseInt(n.slice(7,11).join(""),2),D:parseInt(n.slice(11,16).join(""),2)},o=[s.Y,s.M,s.D].join("-")+" "+[s.h,s.m,s.s].join(":")+" GMT+0";return new Date(o).getTime()}function ws(t,e){let r=(t>>>0).toString(2);for(;r.length<e;)r="0"+r;return r.split("")}function fe(t,e){return t.readUInt32LE(e+4)*4294967296+t.readUInt32LE(e)}Ss.exports=pe});var Pa={};yo(Pa,{default:()=>Ta});module.exports=wo(Pa);var L=require("@raycast/api");var ne=require("@raycast/api"),Ar=require("react");var ke=require("@raycast/api");var $r="https://bitwarden.com";var _={PASSWORD_OPTIONS:"bw-generate-password-options",PASSWORD_ONE_TIME_WARNING:"bw-generate-password-warning-accepted",SESSION_TOKEN:"sessionToken",REPROMPT_HASH:"sessionRepromptHash",SERVER_URL:"cliServer",LAST_ACTIVITY_TIME:"lastActivityTime",VAULT_LOCK_REASON:"vaultLockReason",VAULT_FAVORITE_ORDER:"vaultFavoriteOrder",VAULT_LAST_STATUS:"lastVaultStatus"};var ae={IV:"iv",VAULT:"vault",CURRENT_FOLDER_ID:"currentFolderId",SEND_TYPE_FILTER:"sendTypeFilter",CLI_VERSION:"cliVersion"},La={1:ke.Icon.Globe,3:ke.Icon.CreditCard,4:ke.Icon.Person,2:ke.Icon.Document,5:ke.Icon.Key};var bo=()=>{let t=()=>(0,ne.popToRoot)({clearSearchBar:!1}),e=()=>ne.LocalStorage.setItem(_.PASSWORD_ONE_TIME_WARNING,!0),r=async()=>{await ne.LocalStorage.getItem(_.PASSWORD_ONE_TIME_WARNING)||await(0,ne.confirmAlert)({title:"Warning",message:"Password history is not available yet, so make sure to store the password after generating it!",icon:ne.Icon.ExclamationMark,dismissAction:{title:"Go back",onAction:t},primaryAction:{title:"I understand",onAction:e}})};(0,Ar.useEffect)(()=>{r()},[])},Lr=bo;var ro=require("@raycast/api"),Lt=require("react");var Rr=require("react");function So(){let t=(0,Rr.useRef)(new AbortController);return{abortControllerRef:t,renew:()=>{t.current.signal.aborted&&(t.current=new AbortController)},abort:()=>{t.current?.abort()}}}var Or=So;var Pe=require("react");var C=require("@raycast/api");var cs=require("node:buffer"),ls=B(require("node:path"),1),rr=B(require("node:child_process"),1),je=B(require("node:process"),1),us=B(xn(),1);function Wt(t){let e=typeof t=="string"?`
`:10,r=typeof t=="string"?"\r":13;return t[t.length-1]===e&&(t=t.slice(0,-1)),t[t.length-1]===r&&(t=t.slice(0,-1)),t}var ze=B(require("node:process"),1),Ae=B(require("node:path"),1),In=B(require("node:url"),1);function ct(t={}){let{env:e=process.env,platform:r=process.platform}=t;return r!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"}function Ko(t={}){let{cwd:e=ze.default.cwd(),path:r=ze.default.env[ct()],execPath:n=ze.default.execPath}=t,s,o=e instanceof URL?In.default.fileURLToPath(e):e,i=Ae.default.resolve(o),u=[];for(;s!==i;)u.push(Ae.default.join(i,"node_modules/.bin")),s=i,i=Ae.default.resolve(i,"..");return u.push(Ae.default.resolve(o,n,"..")),[...u,r].join(Ae.default.delimiter)}function vn({env:t=ze.default.env,...e}={}){t={...t};let r=ct({env:t});return e.path=t[r],t[r]=Ko(e),t}var Yo=(t,e,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;let s=Object.getOwnPropertyDescriptor(t,r),o=Object.getOwnPropertyDescriptor(e,r);!Zo(s,o)&&n||Object.defineProperty(t,r,o)},Zo=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},qo=(t,e)=>{let r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},Jo=(t,e)=>`/* Wrapped ${t}*/
${e}`,Xo=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Qo=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),ei=(t,e,r)=>{let n=r===""?"":`with ${r.trim()}() `,s=Jo.bind(null,n,e.toString());Object.defineProperty(s,"name",Qo),Object.defineProperty(t,"toString",{...Xo,value:s})};function Ht(t,e,{ignoreNonConfigurable:r=!1}={}){let{name:n}=t;for(let s of Reflect.ownKeys(e))Yo(t,e,s,r);return qo(t,e),ei(t,e,n),t}var lt=new WeakMap,Tn=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,n=0,s=t.displayName||t.name||"<anonymous>",o=function(...i){if(lt.set(o,++n),n===1)r=t.apply(this,i),t=null;else if(e.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return Ht(o,t),lt.set(o,n),o};Tn.callCount=t=>{if(!lt.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return lt.get(t)};var Pn=Tn;var Rn=require("node:os");var kn=function(){let t=$n-Cn+1;return Array.from({length:t},ti)},ti=function(t,e){return{name:`SIGRT${e+1}`,number:Cn+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Cn=34,$n=64;var Ln=require("node:os");var An=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var jt=function(){let t=kn();return[...An,...t].map(ri)},ri=function({name:t,number:e,description:r,action:n,forced:s=!1,standard:o}){let{signals:{[t]:i}}=Ln.constants,u=i!==void 0;return{name:t,number:u?i:e,description:r,supported:u,action:n,forced:s,standard:o}};var ni=function(){let t=jt();return Object.fromEntries(t.map(si))},si=function({name:t,number:e,description:r,supported:n,action:s,forced:o,standard:i}){return[t,{name:t,number:e,description:r,supported:n,action:s,forced:o,standard:i}]},On=ni(),oi=function(){let t=jt(),e=65,r=Array.from({length:e},(n,s)=>ii(s,t));return Object.assign({},...r)},ii=function(t,e){let r=ai(t,e);if(r===void 0)return{};let{name:n,description:s,supported:o,action:i,forced:u,standard:c}=r;return{[t]:{name:n,number:t,description:s,supported:o,action:i,forced:u,standard:c}}},ai=function(t,e){let r=e.find(({name:n})=>Rn.constants.signals[n]===t);return r!==void 0?r:e.find(n=>n.number===t)},lc=oi();var ci=({timedOut:t,timeout:e,errorCode:r,signal:n,signalDescription:s,exitCode:o,isCanceled:i})=>t?`timed out after ${e} milliseconds`:i?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${s})`:o!==void 0?`failed with exit code ${o}`:"failed",Kt=({stdout:t,stderr:e,all:r,error:n,signal:s,exitCode:o,command:i,escapedCommand:u,timedOut:c,isCanceled:p,killed:y,parsed:{options:{timeout:S}}})=>{o=o===null?void 0:o,s=s===null?void 0:s;let b=s===void 0?void 0:On[s].description,P=n&&n.code,R=`Command ${ci({timedOut:c,timeout:S,errorCode:P,signal:s,signalDescription:b,exitCode:o,isCanceled:p})}: ${i}`,j=Object.prototype.toString.call(n)==="[object Error]",v=j?`${R}
${n.message}`:R,h=[v,e,t].filter(Boolean).join(`
`);return j?(n.originalMessage=n.message,n.message=h):n=new Error(h),n.shortMessage=v,n.command=i,n.escapedCommand=u,n.exitCode=o,n.signal=s,n.signalDescription=b,n.stdout=t,n.stderr=e,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!c,n.isCanceled=p,n.killed=y&&!c,n};var ut=["stdin","stdout","stderr"],li=t=>ut.some(e=>t[e]!==void 0),_n=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return ut.map(n=>t[n]);if(li(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${ut.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,ut.length);return Array.from({length:r},(n,s)=>e[s])};var Bn=B(require("node:os"),1),Gn=B(Vn(),1),ui=1e3*5,zn=(t,e="SIGTERM",r={})=>{let n=t(e);return di(t,e,r,n),n},di=(t,e,r,n)=>{if(!fi(e,r,n))return;let s=mi(r),o=setTimeout(()=>{t("SIGKILL")},s);o.unref&&o.unref()},fi=(t,{forceKillAfterTimeout:e},r)=>pi(t)&&e!==!1&&r,pi=t=>t===Bn.default.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",mi=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return ui;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},Wn=(t,e)=>{t.kill()&&(e.isCanceled=!0)},hi=(t,e,r)=>{t.kill(e),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},Hn=(t,{timeout:e,killSignal:r="SIGTERM"},n)=>{if(e===0||e===void 0)return n;let s,o=new Promise((u,c)=>{s=setTimeout(()=>{hi(t,r,c)},e)}),i=n.finally(()=>{clearTimeout(s)});return Promise.race([o,i])},jn=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},Kn=async(t,{cleanup:e,detached:r},n)=>{if(!e||r)return n;let s=(0,Gn.default)(()=>{t.kill()});return n.finally(()=>{s()})};function Yn(t){return t!==null&&typeof t=="object"&&typeof t.pipe=="function"}var Qt=B(Jn(),1),es=B(Qn(),1),ts=(t,e)=>{e!==void 0&&(Yn(e)?e.pipe(t.stdin):t.stdin.end(e))},rs=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let r=(0,es.default)();return t.stdout&&r.add(t.stdout),t.stderr&&r.add(t.stderr),r},Jt=async(t,e)=>{if(!(!t||e===void 0)){t.destroy();try{return await e}catch(r){return r.bufferedData}}},Xt=(t,{encoding:e,buffer:r,maxBuffer:n})=>{if(!(!t||!r))return e?(0,Qt.default)(t,{encoding:e,maxBuffer:n}):Qt.default.buffer(t,{maxBuffer:n})},ns=async({stdout:t,stderr:e,all:r},{encoding:n,buffer:s,maxBuffer:o},i)=>{let u=Xt(t,{encoding:n,buffer:s,maxBuffer:o}),c=Xt(e,{encoding:n,buffer:s,maxBuffer:o}),p=Xt(r,{encoding:n,buffer:s,maxBuffer:o*2});try{return await Promise.all([i,u,c,p])}catch(y){return Promise.all([{error:y,signal:y.signal,timedOut:y.timedOut},Jt(t,u),Jt(e,c),Jt(r,p)])}};var Ii=(async()=>{})().constructor.prototype,vi=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(Ii,t)]),er=(t,e)=>{for(let[r,n]of vi){let s=typeof e=="function"?(...o)=>Reflect.apply(n.value,e(),o):n.value.bind(e);Reflect.defineProperty(t,r,{...n,value:s})}return t},ss=t=>new Promise((e,r)=>{t.on("exit",(n,s)=>{e({exitCode:n,signal:s})}),t.on("error",n=>{r(n)}),t.stdin&&t.stdin.on("error",n=>{r(n)})});var os=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],Ti=/^[\w.-]+$/,Pi=/"/g,ki=t=>typeof t!="string"||Ti.test(t)?t:`"${t.replace(Pi,'\\"')}"`,is=(t,e)=>os(t,e).join(" "),as=(t,e)=>os(t,e).map(r=>ki(r)).join(" ");var Ci=1e3*1e3*100,$i=({env:t,extendEnv:e,preferLocal:r,localDir:n,execPath:s})=>{let o=e?{...je.default.env,...t}:t;return r?vn({env:o,cwd:n,execPath:s}):o},Ai=(t,e,r={})=>{let n=us.default._parse(t,e,r);return t=n.command,e=n.args,r=n.options,r={maxBuffer:Ci,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||je.default.cwd(),execPath:je.default.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=$i(r),r.stdio=_n(r),je.default.platform==="win32"&&ls.default.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:r,parsed:n}},tr=(t,e,r)=>typeof e!="string"&&!cs.Buffer.isBuffer(e)?r===void 0?void 0:"":t.stripFinalNewline?Wt(e):e;function ds(t,e,r){let n=Ai(t,e,r),s=is(t,e),o=as(t,e);jn(n.options);let i;try{i=rr.default.spawn(n.file,n.args,n.options)}catch(P){let I=new rr.default.ChildProcess,R=Promise.reject(Kt({error:P,stdout:"",stderr:"",all:"",command:s,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return er(I,R)}let u=ss(i),c=Hn(i,n.options,u),p=Kn(i,n.options,c),y={isCanceled:!1};i.kill=zn.bind(null,i.kill.bind(i)),i.cancel=Wn.bind(null,i,y);let b=Pn(async()=>{let[{error:P,exitCode:I,signal:R,timedOut:j},v,h,O]=await ns(i,n.options,p),q=tr(n.options,v),W=tr(n.options,h),K=tr(n.options,O);if(P||I!==0||R!==null){let Be=Kt({error:P,exitCode:I,signal:R,stdout:q,stderr:W,all:K,command:s,escapedCommand:o,parsed:n,timedOut:j,isCanceled:y.isCanceled||(n.options.signal?n.options.signal.aborted:!1),killed:i.killed});if(!n.options.reject)return Be;throw Be}return{command:s,escapedCommand:o,exitCode:0,stdout:q,stderr:W,all:K,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return ts(i,n.options.input),i.all=rs(i,n.options),er(i,b)}var Z=require("fs");var fs=require("@raycast/api");var G={lowercase:!0,uppercase:!0,number:!1,special:!1,passphrase:!1,length:"14",words:"3",separator:"-",capitalize:!1,includeNumber:!1,minNumber:"1",minSpecial:"1"};function ps(t){return Object.entries(t).flatMap(([e,r])=>{switch(typeof r){case"boolean":return r?[`--${e}`]:[];case"string":return[`--${e}`,r];default:return[]}})}async function ms(){let t=await fs.LocalStorage.getItem(_.PASSWORD_OPTIONS);return{...G,...t?JSON.parse(t):{}}}var Ke=require("@raycast/api");var Li={IMMEDIATELY:"0",ONE_MINUTE:"60000",FIVE_MINUTES:"300000",FIFTEEN_MINUTES:"900000",THIRTY_MINUTES:"1800000",ONE_HOUR:"3600000",FOUR_HOURS:"14400000",EIGHT_HOURS:"28800000",ONE_DAY:"86400000",NEVER:"-1",SYSTEM_LOCK:"-2",SYSTEM_SLEEP:"-3"},Q=Object.entries(Li).reduce((t,[e,r])=>(t[e]=parseInt(r),t),{});var Ri={[Q.IMMEDIATELY]:"Immediately",[Q.ONE_MINUTE]:"1 Minute",[Q.FIVE_MINUTES]:"5 Minutes",[Q.FIFTEEN_MINUTES]:"15 Minutes",[Q.THIRTY_MINUTES]:"30 Minutes",[Q.ONE_HOUR]:"1 Hour",[Q.FOUR_HOURS]:"4 Hours",[Q.EIGHT_HOURS]:"8 Hours",[Q.ONE_DAY]:"1 Day"};var Yc={1:"Login",3:"Card",4:"Identity",2:"Secure Note",5:"SSH Key"};function nr(){let{serverUrl:t}=(0,Ke.getPreferenceValues)();return!t||t==="bitwarden.com"||t==="https://bitwarden.com"?void 0:t}var Oi={search:"transientCopySearch","generate-password":"transientCopyGeneratePassword","generate-password-quick":"transientCopyGeneratePasswordQuick"};function hs(t){let e=Oi[Ke.environment.commandName],r=(0,Ke.getPreferenceValues)()[e];return r==="never"?!1:r==="always"?!0:r==="passwords"?t==="password":!0}var se=class extends Error{constructor(e,r){super(e),this.stack=r}},Ye=class extends se{constructor(e,r){super(e,r)}};var ce=class extends Ye{constructor(e,r){super(e??"Bitwarden CLI not found",r),this.name="InstalledCLINotFoundError",this.stack=r}};var gt=class extends Ye{constructor(e,r){super(e??"Vault is locked",r),this.name="VaultIsLockedError"}},Ze=class extends se{constructor(e,r){super(e??"Not logged in",r),this.name="NotLoggedInError"}},Ie=class extends Ye{constructor(e,r){super(e??"Failed do download Bitwarden CLI",r),this.name="EnsureCliBinError"}},yt=class extends se{constructor(e,r){super(e??"Premium status is required to use this feature",r),this.name="PremiumFeatureError"}},qe=class extends se{constructor(e,r){super(e??"This Send has a is protected by a password",r),this.name="SendNeedsPasswordError"}},Je=class extends se{constructor(e,r){super(e??"The password you entered is invalid",r),this.name="SendInvalidPasswordError"}};function le(t,e){try{return t()}catch{return e}}var wt=t=>{if(t){if(typeof t=="string")return t;if(t instanceof Error){let{message:e,name:r}=t;return t.stack?t.stack:`${r}: ${e}`}return String(t)}};var ge=require("path"),ye=require("fs/promises");var oe=require("fs"),Et=require("fs/promises"),xs=require("path"),Is=B(Es());function xt(t){return new Promise((e,r)=>{let n=setInterval(()=>{if(!(0,oe.existsSync)(t))return;(0,oe.statSync)(t).isFile()&&(clearInterval(n),e())},300);setTimeout(()=>{clearInterval(n),r(new Error(`File ${t} not found.`))},5e3)})}async function vs(t,e){let r=new Is.default.async({file:t});(0,oe.existsSync)(e)||(0,oe.mkdirSync)(e,{recursive:!0}),await r.extract(null,e),await r.close()}async function Ts(t,e){let r=!1;try{let n=await(0,Et.readdir)(e);for await(let s of n)s.startsWith(t)&&await le(async()=>{await(0,Et.unlink)((0,xs.join)(e,s)),r=!0})}catch{return!1}return r}function Ps(...t){for(let e of t)le(()=>(0,oe.unlinkSync)(e))}var De=require("fs"),fr=B(require("http")),It=B(require("https"));var ks=require("@raycast/api");var Cs=require("@raycast/api"),Ni={logs:new Map,set:(t,e)=>{Ne.logs.set(new Date,{message:t,error:e})},clear:()=>Ne.logs.clear(),toString:()=>{let t="";return Ne.logs.forEach((e,r)=>{t.length>0&&(t+=`

`),t+=`[${r.toISOString()}] ${e.message}`,e.error&&(t+=`: ${wt(e.error)}`)}),t}},Ne=Object.freeze(Ni),g=(t,e,r)=>{let{captureToRaycast:n=!1}=r??{},s=Array.isArray(t)?t.filter(Boolean).join(" "):t||"Captured exception";Ne.set(s,e),ks.environment.isDevelopment?console.error(s,e):n&&(0,Cs.captureException)(e)};var $s=require("fs"),As=require("crypto");function dr(t){try{return(0,As.createHash)("sha256").update((0,$s.readFileSync)(t)).digest("hex")}catch{return null}}function pr(t,e,r){let{onProgress:n,sha256:s}=r??{};return new Promise((o,i)=>{let u=new URL(t),c=u.protocol==="https:"?It.default:fr.default,p=new(c===It.default?It.default:fr.default).Agent({keepAlive:!1}),y=0,S=c.get(u.href,{agent:p},b=>{if(b.statusCode&&b.statusCode>=300&&b.statusCode<400){S.destroy(),b.destroy();let h=b.headers.location;if(!h){i(new Error("Redirect response without location header"));return}if(++y>=10){i(new Error("Too many redirects"));return}pr(h,e,r).then(o).catch(i);return}if(b.statusCode!==200){i(new Error(`Response status ${b.statusCode}: ${b.statusMessage}`));return}let P=parseInt(b.headers["content-length"]||"0",10);if(P===0){i(new Error("Invalid file size"));return}let I=(0,De.createWriteStream)(e,{autoClose:!0}),R=0,j=()=>{S.destroy(),b.destroy(),I.close()},v=h=>{j(),i(h)};b.on("data",h=>{R+=h.length;let O=Math.floor(R/P*100);n?.(O)}),I.on("finish",async()=>{try{await xt(e),s&&await Di(e,s),o()}catch(h){i(h)}finally{j()}}),I.on("error",h=>{g(`File stream error while downloading ${t}`,h),(0,De.unlink)(e,()=>v(h))}),b.on("error",h=>{g(`Response error while downloading ${t}`,h),(0,De.unlink)(e,()=>v(h))}),S.on("error",h=>{g(`Request error while downloading ${t}`,h),(0,De.unlink)(e,()=>v(h))}),b.pipe(I)})})}function Di(t,e){return new Promise((r,n)=>{let s=dr(t);if(!s)return n(new Error(`Could not generate hash for file ${t}.`));if(s===e)return r();let o=setInterval(()=>{dr(t)===e&&(clearInterval(o),clearTimeout(i),r())},1e3),i=setTimeout(()=>{clearInterval(o),n(new Error(`Hash did not match, expected ${e.substring(0,7)}, got ${s.substring(0,7)}.`))},5e3)})}function Ls(t,e){return{...t,...e,file:e.file?{...t.file,...e.file}:t.file,text:e.text?{...t.text,...e.text}:t.text}}var Rs=require("@raycast/api"),me=new Rs.Cache({namespace:"bw-cache"});var z=process.platform==="darwin"?"macos":"windows";var{supportPath:he}=C.environment,Fi="5",vt=(()=>{let t=(0,ge.join)(he,`bw-bin-download-error-${Fi}.log`);return{logError:e=>le(()=>(0,Z.writeFileSync)(t,e?.message??"Unexpected error")),clearError:()=>le(()=>(0,Z.unlinkSync)(t)),hasError:()=>le(()=>(0,Z.existsSync)(t),!1)}})(),Y={version:"2025.11.0",get sha256(){return z==="windows"?"0484bae6306762881678097406d6bf00a58e291720dbc7d62f044e5f4d8286ed":process.arch==="arm64"?"59eac955be7b15bfc21c81101a194a9fbba32f48a61154b4f4b6e007efab6fd6":"213108a65eeb7294ffcd7303f8fe5308dc2af970735aefeb4d23fc9753a2ac01"},downloadPage:"https://github.com/bitwarden/clients/releases",path:{get downloadedBin(){return(0,ge.join)(he,Y.binFilenameVersioned)},get installedBin(){return z==="windows"?"C:\\ProgramData\\chocolatey\\bin\\bw.exe":process.arch==="arm64"?"/opt/homebrew/bin/bw":"/usr/local/bin/bw"},get bin(){return vt.hasError()?this.installedBin:this.downloadedBin}},get binFilename(){return z==="windows"?"bw.exe":"bw"},get binFilenameVersioned(){let t=`bw-${this.version}`;return z==="windows"?`${t}.exe`:`${t}`},get downloadUrl(){let t="";return z==="macos"&&(t=process.arch==="arm64"?"-arm64":""),`${this.downloadPage}/download/cli-v${this.version}/bw-${z}${t}-${this.version}.zip`}},Tt=class{constructor(e){this.actionListeners=new Map;this.preferences=(0,C.getPreferenceValues)();this.wasCliUpdated=!1;this.showToast=async e=>{if(this.toastInstance){let r={message:this.toastInstance.message,title:this.toastInstance.title,primaryAction:this.toastInstance.primaryAction,secondaryAction:this.toastInstance.secondaryAction};return e.style&&(this.toastInstance.style=e.style),this.toastInstance.message=e.message,this.toastInstance.title=e.title,this.toastInstance.primaryAction=e.primaryAction,this.toastInstance.secondaryAction=e.secondaryAction,await this.toastInstance.show(),Object.assign(this.toastInstance,{restore:async()=>{await this.showToast(r)}})}else{let r=await(0,C.showToast)(e);return Object.assign(r,{restore:()=>r.hide()})}};let{cliPath:r,clientId:n,clientSecret:s,serverCertsPath:o}=this.preferences,i=nr();this.toastInstance=e,this.cliPath=r||Y.path.bin,this.env={BITWARDENCLI_APPDATA_DIR:he,BW_CLIENTSECRET:s.trim(),BW_CLIENTID:n.trim(),PATH:(0,ge.dirname)(process.execPath),...i&&o?{NODE_EXTRA_CA_CERTS:o}:{}},this.initPromise=(async()=>{await this.ensureCliBinary(),this.retrieveAndCacheCliVersion(),await this.checkServerUrl(i)})()}async ensureCliBinary(){if(this.checkCliBinIsReady(this.cliPath))return;if(this.cliPath===this.preferences.cliPath||this.cliPath===Y.path.installedBin)throw new ce(`Bitwarden CLI not found at ${this.cliPath}`);vt.hasError()&&vt.clearError();let e=await Ts("bw-",he),r=await this.showToast({title:`${e?"Updating":"Initializing"} Bitwarden CLI`,style:C.Toast.Style.Animated,primaryAction:{title:"Open Download Page",onAction:()=>(0,C.open)(Y.downloadPage)}}),s=(0,ge.join)(he,"bw.zip");try{try{r.message="Downloading...",await pr(Y.downloadUrl,s,{onProgress:o=>r.message=`Downloading ${o}%`,sha256:Y.sha256})}catch(o){throw r.title="Failed to download Bitwarden CLI",o}try{r.message="Extracting...",await vs(s,he);let o=(0,ge.join)(he,Y.binFilename);await(0,ye.rename)(o,this.cliPath).catch(()=>null),await xt(this.cliPath),await(0,ye.chmod)(this.cliPath,"755"),await(0,ye.rm)(s,{force:!0}),me.set(ae.CLI_VERSION,Y.version),this.wasCliUpdated=!0;let i=(0,ge.join)(he,"data.json");await le(()=>(0,ye.unlink)(i))}catch(o){throw r.title="Failed to extract Bitwarden CLI",o}await r.hide()}catch(o){throw r.message=o instanceof Ie?o.message:"Please try again",r.style=C.Toast.Style.Failure,Ps(s,this.cliPath),C.environment.isDevelopment||vt.logError(o),o instanceof Error?new Ie(o.message,o.stack):o}finally{await r.restore()}}async retrieveAndCacheCliVersion(){try{let{error:e,result:r}=await this.getVersion();e||me.set(ae.CLI_VERSION,r)}catch(e){g("Failed to retrieve and cache cli version",e,{captureToRaycast:!0})}}checkCliBinIsReady(e){try{return(0,Z.existsSync)(this.cliPath)?((0,Z.accessSync)(e,Z.constants.X_OK),!0):!1}catch{return(0,Z.chmodSync)(e,"755"),!0}}setSessionToken(e){this.env={...this.env,BW_SESSION:e}}clearSessionToken(){delete this.env.BW_SESSION}withSession(e){return this.tempSessionToken=e,this}async initialize(){return await this.initPromise,this}async checkServerUrl(e){let r=await C.LocalStorage.getItem(_.SERVER_URL);if(!e||r===e)return;let n=await this.showToast({style:C.Toast.Style.Animated,title:"Switching server...",message:"Bitwarden server preference changed"});try{try{await this.logout()}catch{}await this.exec(["config","server",e||$r],{resetVaultTimeout:!1}),await C.LocalStorage.setItem(_.SERVER_URL,e),n.style=C.Toast.Style.Success,n.title="Success",n.message="Bitwarden server changed"}catch(s){n.style=C.Toast.Style.Failure,n.title="Failed to switch server",s instanceof Error?n.message=s.message:n.message="Unknown error occurred"}finally{await n.restore()}}async exec(e,r){let{abortController:n,input:s="",resetVaultTimeout:o,env:i}=r??{},u=this.env;this.tempSessionToken&&(u={...u,BW_SESSION:this.tempSessionToken},this.tempSessionToken=void 0),i&&(u={...u,...i});let c=await ds(this.cliPath,e,{input:s,env:u,signal:n?.signal});if(this.isPromptWaitingForMasterPassword(c))throw await this.lock(),new gt;return o&&await C.LocalStorage.setItem(_.LAST_ACTIVITY_TIME,new Date().toISOString()),c}async getVersion(){try{let{stdout:e}=await this.exec(["--version"],{resetVaultTimeout:!1});return{result:e}}catch(e){g("Failed to get cli version",e);let{error:r}=await this.handleCommonErrors(e);if(!r)throw e;return{error:r}}}async login(){try{return await this.exec(["login","--apikey"],{resetVaultTimeout:!0}),await this.saveLastVaultStatus("login","unlocked"),await this.callActionListeners("login"),{result:void 0}}catch(e){g("Failed to login",e);let{error:r}=await this.handleCommonErrors(e);if(!r)throw e;return{error:r}}}async logout(e){let{reason:r,immediate:n=!1}=e??{};try{return n&&await this.handlePostLogout(r),await this.exec(["logout"],{resetVaultTimeout:!1}),await this.saveLastVaultStatus("logout","unauthenticated"),n||await this.handlePostLogout(r),{result:void 0}}catch(s){g("Failed to logout",s);let{error:o}=await this.handleCommonErrors(s);if(!o)throw s;return{error:o}}}async lock(e){let{reason:r,checkVaultStatus:n=!1,immediate:s=!1}=e??{};try{if(s&&await this.callActionListeners("lock",r),n){let{error:o,result:i}=await this.status();if(o)throw o;if(i.status==="unauthenticated")return{error:new Ze("Not logged in")}}return await this.exec(["lock"],{resetVaultTimeout:!1}),this.clearSessionToken(),await this.saveLastVaultStatus("lock","locked"),s||await this.callActionListeners("lock",r),{result:void 0}}catch(o){g("Failed to lock vault",o);let{error:i}=await this.handleCommonErrors(o);if(!i)throw o;return{error:i}}}async unlock(e){try{this.clearSessionToken();let n=(await this.exec(["unlock","--passwordenv","BW_PASSWORD","--raw"],{resetVaultTimeout:!0,env:{BW_PASSWORD:e}})).stdout;if(!n.trim())throw new Error("Invalid session token");return this.setSessionToken(n),await this.saveLastVaultStatus("unlock","unlocked"),await this.callActionListeners("unlock",e,n),{result:n}}catch(r){g("Failed to unlock vault",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async sync(){try{return await this.exec(["sync"],{resetVaultTimeout:!0}),{result:void 0}}catch(e){g("Failed to sync vault",e);let{error:r}=await this.handleCommonErrors(e);if(!r)throw e;return{error:r}}}async getItem(e){try{let{stdout:r}=await this.exec(["get","item",e],{resetVaultTimeout:!0});return{result:JSON.parse(r)}}catch(r){g("Failed to get item",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async listItems(){try{let{stdout:e}=await this.exec(["list","items"],{resetVaultTimeout:!0});return{result:JSON.parse(e).filter(n=>!!n.name)}}catch(e){g("Failed to list items",e);let{error:r}=await this.handleCommonErrors(e);if(!r)throw e;return{error:r}}}async createLoginItem(e){try{let{error:r,result:n}=await this.getTemplate("item");if(r)throw r;let{error:s,result:o}=await this.getTemplate("item.login");if(s)throw s;n.name=e.name,n.type=1,n.folderId=e.folderId||null,n.login=o,n.notes=null,o.username=e.username||null,o.password=e.password,o.totp=null,o.fido2Credentials=void 0,e.uri&&(o.uris=[{match:null,uri:e.uri}]);let{result:i,error:u}=await this.encode(JSON.stringify(n));if(u)throw u;let{stdout:c}=await this.exec(["create","item",i],{resetVaultTimeout:!0});return{result:JSON.parse(c)}}catch(r){g("Failed to create login item",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async listFolders(){try{let{stdout:e}=await this.exec(["list","folders"],{resetVaultTimeout:!0});return{result:JSON.parse(e)}}catch(e){g("Failed to list folder",e);let{error:r}=await this.handleCommonErrors(e);if(!r)throw e;return{error:r}}}async createFolder(e){try{let{error:r,result:n}=await this.getTemplate("folder");if(r)throw r;n.name=e;let{result:s,error:o}=await this.encode(JSON.stringify(n));if(o)throw o;return await this.exec(["create","folder",s],{resetVaultTimeout:!0}),{result:void 0}}catch(r){g("Failed to create folder",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async getTotp(e){try{let{stdout:r}=await this.exec(["get","totp",e],{resetVaultTimeout:!0});return{result:r}}catch(r){g("Failed to get TOTP",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async status(){try{let{stdout:e}=await this.exec(["status"],{resetVaultTimeout:!1});return{result:JSON.parse(e)}}catch(e){g("Failed to get status",e);let{error:r}=await this.handleCommonErrors(e);if(!r)throw e;return{error:r}}}async checkLockStatus(){try{return await this.exec(["unlock","--check"],{resetVaultTimeout:!1}),await this.saveLastVaultStatus("checkLockStatus","unlocked"),"unlocked"}catch(e){return g("Failed to check lock status",e),e.stderr==="Vault is locked."?(await this.saveLastVaultStatus("checkLockStatus","locked"),"locked"):(await this.saveLastVaultStatus("checkLockStatus","unauthenticated"),"unauthenticated")}}async getTemplate(e){try{let{stdout:r}=await this.exec(["get","template",e],{resetVaultTimeout:!0});return{result:JSON.parse(r)}}catch(r){g("Failed to get template",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async encode(e){try{let{stdout:r}=await this.exec(["encode"],{input:e,resetVaultTimeout:!1});return{result:r}}catch(r){g("Failed to encode",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async generatePassword(e,r){let n=e?ps(e):[],{stdout:s}=await this.exec(["generate",...n],{abortController:r,resetVaultTimeout:!1});return s}async listSends(){try{let{stdout:e}=await this.exec(["send","list"],{resetVaultTimeout:!0});return{result:JSON.parse(e)}}catch(e){g("Failed to list sends",e);let{error:r}=await this.handleCommonErrors(e);if(!r)throw e;return{error:r}}}async createSend(e){try{let{error:r,result:n}=await this.getTemplate(e.type===0?"send.text":"send.file");if(r)throw r;let s=Ls(n,e),{result:o,error:i}=await this.encode(JSON.stringify(s));if(i)throw i;let{stdout:u}=await this.exec(["send","create",o],{resetVaultTimeout:!0});return{result:JSON.parse(u)}}catch(r){g("Failed to create send",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async editSend(e){try{let{result:r,error:n}=await this.encode(JSON.stringify(e));if(n)throw n;let{stdout:s}=await this.exec(["send","edit",r],{resetVaultTimeout:!0});return{result:JSON.parse(s)}}catch(r){g("Failed to delete send",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async deleteSend(e){try{return await this.exec(["send","delete",e],{resetVaultTimeout:!0}),{result:void 0}}catch(r){g("Failed to delete send",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async removeSendPassword(e){try{return await this.exec(["send","remove-password",e],{resetVaultTimeout:!0}),{result:void 0}}catch(r){g("Failed to remove send password",r);let{error:n}=await this.handleCommonErrors(r);if(!n)throw r;return{error:n}}}async receiveSendInfo(e,r){try{let{stdout:n,stderr:s}=await this.exec(["send","receive",e,"--obj"],{resetVaultTimeout:!0,input:r?.password});return!n&&/Invalid password/i.test(s)?{error:new Je}:!n&&/Send password/i.test(s)?{error:new qe}:{result:JSON.parse(n)}}catch(n){let s=n.stderr;if(/Invalid password/gi.test(s))return{error:new Je};if(/Send password/gi.test(s))return{error:new qe};g("Failed to receive send obj",n);let{error:o}=await this.handleCommonErrors(n);if(!o)throw n;return{error:o}}}async receiveSend(e,r){try{let{savePath:n,password:s}=r??{},o=["send","receive",e];n&&o.push("--output",n);let{stdout:i}=await this.exec(o,{resetVaultTimeout:!0,input:s});return{result:i}}catch(n){g("Failed to receive send",n);let{error:s}=await this.handleCommonErrors(n);if(!s)throw n;return{error:s}}}async saveLastVaultStatus(e,r){await C.LocalStorage.setItem(_.VAULT_LAST_STATUS,r)}async getLastSavedVaultStatus(){let e=await C.LocalStorage.getItem(_.VAULT_LAST_STATUS);return e||(await this.status()).result?.status}isPromptWaitingForMasterPassword(e){return!!(e.stderr&&e.stderr.includes("Master password"))}async handlePostLogout(e){this.clearSessionToken(),await this.callActionListeners("logout",e)}async handleCommonErrors(e){let r=e.stderr;return r?/not logged in/i.test(r)?(await this.handlePostLogout(),{error:new Ze("Not logged in")}):/Premium status/i.test(r)?{error:new yt}:{}:{}}setActionListener(e,r){let n=this.actionListeners.get(e);return n&&n.size>0?n.add(r):this.actionListeners.set(e,new Set([r])),this}removeActionListener(e,r){let n=this.actionListeners.get(e);return n&&n.size>0&&n.delete(r),this}async callActionListeners(e,...r){let n=this.actionListeners.get(e);if(n&&n.size>0)for(let s of n)try{await s?.(...r)}catch(o){if(g(`Error calling bitwarden action listener for ${e}`,o),e==="unlock")throw o}}};var Os=require("@raycast/api"),Ns=require("react/jsx-runtime"),_s=()=>(0,Ns.jsx)(Os.Form,{isLoading:!0});var ee=require("@raycast/api");var Zi=require("@raycast/api");var mr=require("react"),Vl=(0,mr.createContext)(null);var wr=require("@raycast/api");var hr=require("@raycast/api"),Ds=require("react/jsx-runtime");var zs=require("@raycast/api"),Qe=require("react");var we=require("@raycast/api"),Mi=require("react");var Xe=require("@raycast/api"),Fs=require("react");var Ui=require("@raycast/api");var F=B(require("react")),M=require("@raycast/api");var Ms=require("react/jsx-runtime");function Us(t){let e=(0,F.useRef)(t);return e.current=t,e}function gr(t,e){if(t){if(typeof t=="function")return t(e);if(t==="required"){let r=typeof e<"u"&&e!==null;if(r)switch(typeof e){case"string":r=e.length>0;break;case"object":Array.isArray(e)?r=e.length>0:e instanceof Date&&(r=e.getTime()>0);break;default:break}if(!r)return"The item is required"}}}function Vs(t){let{onSubmit:e,validation:r,initialValues:n={}}=t,[s,o]=(0,F.useState)(n),[i,u]=(0,F.useState)({}),c=(0,F.useRef)({}),p=Us(r||{}),y=Us(e),S=(0,F.useCallback)(v=>{c.current[v]?.focus()},[c]),b=(0,F.useCallback)(async v=>{let h=!1;for(let[q,W]of Object.entries(p.current)){let K=gr(W,v[q]);K&&(h||(h={},S(q)),h[q]=K)}if(h)return u(h),!1;let O=await y.current(v);return typeof O=="boolean"?O:!0},[p,y,S]),P=(0,F.useCallback)((v,h)=>{u(O=>({...O,[v]:h}))},[u]),I=(0,F.useCallback)(function(v,h){o(O=>({...O,[v]:typeof h=="function"?h(O[v]):h}))},[o]),R=(0,F.useMemo)(()=>new Proxy({},{get(v,h){let O=p.current[h],q=s[h];return{onChange(W){i[h]&&(gr(O,W)||P(h,void 0)),I(h,W)},onBlur(W){let K=gr(O,W.target.value);K&&P(h,K)},error:i[h],id:h,value:typeof q>"u"?null:q,ref:W=>{c.current[h]=W}}}}),[i,p,P,s,c,I]),j=(0,F.useCallback)(v=>{u({}),Object.entries(c.current).forEach(([h,O])=>{v?.[h]||O?.reset()}),v&&o(v)},[o,u,c]);return{handleSubmit:b,setValidationError:P,setValue:I,values:s,itemProps:R,focus:S,reset:j}}var yr=require("react/jsx-runtime");var Vi=require("@raycast/api"),Bi=require("react/jsx-runtime");var Gi=require("react");var zi=require("@raycast/api");var Bs=require("child_process"),Gs=require("util");var Iu=(0,Gs.promisify)(Bs.exec);var kt=require("react");function Wi(t,e){let r=(0,kt.useRef)(!1);(0,kt.useEffect)(()=>{r.current||e!==void 0&&!e||(r.current=!0,t())},[e])}var Te=Wi;var ji=require("react/jsx-runtime"),Yu=(0,Qe.createContext)(null);var Yi=require("react/jsx-runtime");var qi=require("react/jsx-runtime");var D=require("@raycast/api");var Ws=require("child_process"),Hs=require("util");var br=require("fs"),js=require("path");var Ks=require("react/jsx-runtime"),Ji=(0,Hs.promisify)(Ws.exec),{supportPath:Xi}=D.environment,Qi=()=>{let{clientId:t,clientSecret:e,fetchFavicons:r,generatePasswordQuickAction:n,repromptIgnoreDuration:s,serverCertsPath:o,serverUrl:i,shouldCacheVaultItems:u,transientCopyGeneratePassword:c,transientCopyGeneratePasswordQuick:p,transientCopySearch:y,windowActionOnCopy:S}=(0,D.getPreferenceValues)();return{has_clientId:!!t,has_clientSecret:!!e,fetchFavicons:r,generatePasswordQuickAction:n,repromptIgnoreDuration:s,has_serverCertsPath:!!o,has_serverUrl:!!i,shouldCacheVaultItems:u,transientCopyGeneratePassword:c,transientCopyGeneratePasswordQuick:p,transientCopySearch:y,windowActionOnCopy:S}},H="N/A",be=async(t,e=!0)=>{try{let r=t;z==="windows"?r=`powershell -Command "${t}"`:r=`PATH="$PATH:${(0,js.dirname)(process.execPath)}" ${t}`;let{stdout:n}=await Ji(r,{env:{BITWARDENCLI_APPDATA_DIR:Xi}}),s=n.trim();return e?s.replace(/\n|\r/g,""):s}catch(r){return g(`Failed to execute command: ${t}`,r),H}},ea=()=>{try{let t=(0,D.getPreferenceValues)().cliPath;return t?{type:"custom",path:t}:Y.path.bin===Y.path.downloadedBin?{type:"downloaded",path:Y.path.downloadedBin}:{type:"installed",path:Y.path.installedBin}}catch{return{type:H,path:H}}},ta=async()=>{try{let t="/opt/homebrew/bin/brew";if((0,br.existsSync)(t)||(t="/usr/local/bin/brew"),!(0,br.existsSync)(t))return{arch:H,version:H};let e=await be(`${t} config`,!1);if(e===H)return{arch:H,version:H};let r=/HOMEBREW_PREFIX: (.+)/.exec(e)?.[1]||H,n=/HOMEBREW_VERSION: (.+)/.exec(e)?.[1]||H;return{arch:r!==H?r.includes("/opt/homebrew")?"arm64":"x86_64":H,version:n}}catch{return{arch:H,version:H}}};function ra(){let t=async()=>{let e=await(0,D.showToast)(D.Toast.Style.Animated,"Collecting data...");try{let r=Qi(),n=ea(),[s,o,i,u]=await Promise.all([...z==="macos"?[be("uname -m"),be("sw_vers -productVersion"),be("sw_vers -buildVersion")]:[be("(Get-CimInstance Win32_OperatingSystem).OSArchitecture"),be("(Get-CimInstance Win32_OperatingSystem).Caption"),be("(Get-CimInstance Win32_OperatingSystem).Version")],be(`${n.path} --version`)]),c={raycast:{version:D.environment.raycastVersion},system:{arch:s,version:o,buildVersion:i},node:{arch:process.arch,version:process.version},cli:{type:n.type,version:u},preferences:r};if(z==="macos"){let p=await ta();c.homebrew={arch:p.arch,version:p.version}}await D.Clipboard.copy(JSON.stringify(c,null,2)),e.style=D.Toast.Style.Success,e.title="Data copied to clipboard"}catch(r){e.style=D.Toast.Style.Failure,e.title="Failed to collect bug report data",g("Failed to collect bug report data",r)}};return(0,Ks.jsx)(D.Action,{title:"Collect Bug Report Data",icon:D.Icon.Bug,onAction:t})}var et=ra;var Ys=require("@raycast/api"),Zs=require("react/jsx-runtime"),Sr="https://github.com/raycast/extensions/issues/new?assignees=&labels=extension%2Cbug&template=extension_bug_report.yml&title=%5BBitwarden%5D+...";function na(){return(0,Zs.jsx)(Ys.Action.OpenInBrowser,{title:"Open Bug Report",url:Sr})}var tt=na;var U=require("@raycast/api");var qs=require("react/jsx-runtime");function sa(){return(0,qs.jsx)(U.Action,{onAction:async()=>{let e=Ne.toString();if(e.length===0)return(0,U.showToast)(U.Toast.Style.Success,"No errors to copy");await U.Clipboard.copy(e),await(0,U.showToast)(U.Toast.Style.Success,"Errors copied to clipboard"),await(0,U.confirmAlert)({title:"Be careful with this information",message:"Please be mindful of where you share this error log, as it may contain sensitive information. Always analyze it before sharing.",primaryAction:{title:"Got it",style:U.Alert.ActionStyle.Default}})},title:"Copy Last Errors",icon:U.Icon.CopyClipboard,style:U.Action.Style.Regular})}var Er=sa;var Xs=require("@raycast/api");var Js=require("react");var oa=()=>{let t=me.get(ae.CLI_VERSION);return t?parseFloat(t):-1},Ct=()=>{let[t,e]=(0,Js.useState)(oa);return Te(()=>{me.subscribe((r,n)=>{n&&r===ae.CLI_VERSION&&e(parseFloat(n)||-1)})}),t};var Fe=require("react/jsx-runtime");function Pt(){let t=Ct();return(0,Fe.jsxs)(Xs.ActionPanel.Section,{title:`Debugging & Bug Reporting (CLI v${t})`,children:[(0,Fe.jsx)(Er,{}),(0,Fe.jsx)(tt,{}),(0,Fe.jsx)(et,{})]})}var Ue=require("@raycast/api");var $t=require("@raycast/api"),nt=require("react");var rt=require("react");var aa=require("react/jsx-runtime"),Pd=(0,rt.createContext)(null);var ua=require("@raycast/api");var ca=require("@raycast/api");var la=require("react");var da=require("react/jsx-runtime"),nf=(0,nt.createContext)(null);var{syncOnLaunch:sf}=(0,$t.getPreferenceValues)();var Qs=require("react/jsx-runtime");var Se=require("react/jsx-runtime"),fa=`

`,xr="https://bitwarden.com/help/cli/#download-and-install",pa=t=>`\`\`\`
${t}
\`\`\``,ma=({error:t})=>{let e=wt(t),r=(0,ee.getPreferenceValues)().cliPath,n=t instanceof Ie,s=r||t instanceof ce,o=[];if(s&&!n?o.push("# \u26A0\uFE0F Bitwarden CLI not found"):o.push("# \u{1F4A5} Whoops! Something went wrong"),n)o.push(`We couldn't download the [Bitwarden CLI](${xr}), you can always install it on your machine.`);else if(s){let i=r?` (${r})`:"";o.push(`We couldn't find the [Bitwarden CLI](${xr}) installed on your machine${i}.`)}else o.push(`The \`${ee.environment.commandName}\` command crashed when we were not expecting it to.`);if(o.push("> Please read the `Setup` section in the [extension's description](https://www.raycast.com/jomifepe/bitwarden) to ensure that everything is properly configured."),o.push(`**Try restarting the command. If the issue persists, consider [reporting a bug on GitHub](${Sr}) to help us fix it.**`),e){let i=/incompatible architecture/gi.test(e);o.push(">## Technical details \u{1F913}",i&&`\u26A0\uFE0F We suspect that your Bitwarden CLI was installed using a version of NodeJS that's incompatible with your system architecture (e.g. x64 NodeJS on a M1/Apple Silicon Mac). Please make sure your have the correct versions of your software installed (e.g., ${z==="macos"?"Homebrew, ":""}NodeJS, and Bitwarden CLI).`,pa(e))}return(0,Se.jsx)(ee.Detail,{markdown:o.filter(Boolean).join(fa),actions:(0,Se.jsxs)(ee.ActionPanel,{children:[(0,Se.jsxs)(ee.ActionPanel.Section,{title:"Bug Report",children:[(0,Se.jsx)(tt,{}),(0,Se.jsx)(et,{})]}),s&&(0,Se.jsx)(ee.Action.OpenInBrowser,{title:"Open Installation Guide",url:xr})]})})},st=ma;var At=require("react/jsx-runtime"),eo=(0,Pe.createContext)(null),to=({children:t,loadingFallback:e=(0,At.jsx)(_s,{})})=>{let[r,n]=(0,Pe.useState)(),[s,o]=(0,Pe.useState)();Te(()=>{new Tt().initialize().then(n).catch(i)});function i(u){if(u instanceof ce)o(u);else throw u}return s?(0,At.jsx)(st,{error:s}):r?(0,At.jsx)(eo.Provider,{value:r,children:t}):e},ve=()=>{let t=(0,Pe.useContext)(eo);if(t==null)throw new Error("useBitwarden must be used within a BitwardenProvider");return t};var ha={options:void 0,password:void 0,isGenerating:!0},ga=(t,e)=>{switch(e.type){case"generate":return{...t,isGenerating:!0};case"setPassword":return{...t,password:e.password,isGenerating:!1};case"setOptions":return{...t,options:e.options};case"cancelGenerate":return{...t,isGenerating:!1};case"clearPassword":return{...t,isGenerating:!1,password:void 0}}},ya=t=>({lowercase:t.lowercase??G.lowercase,uppercase:t.uppercase??G.uppercase,number:t.number??G.number,special:t.special??G.special,passphrase:t.passphrase??G.passphrase,length:t.length??G.length,words:t.words??G.words,separator:t.separator??G.separator,capitalize:t.capitalize??G.capitalize,includeNumber:t.includeNumber??G.includeNumber,minNumber:t.minNumber??G.minNumber,minSpecial:t.minSpecial??G.minSpecial});function wa(){let t=ve(),[{options:e,...r},n]=(0,Lt.useReducer)(ga,ha),{abortControllerRef:s,renew:o,abort:i}=Or(),u=async()=>{let y=await ms();n({type:"setOptions",options:y}),await c(y)};(0,Lt.useEffect)(()=>void u(),[]);let c=async(y=e)=>{try{r.isGenerating&&i(),o(),n({type:"generate"});let S=await t.generatePassword(y,s?.current);n({type:"setPassword",password:S})}catch{s?.current.signal.aborted&&n({type:"cancelGenerate"})}};return{...r,regeneratePassword:async y=>{if(y){n({type:"setOptions",options:y});let S=ya(y);await Promise.all([c(S),ro.LocalStorage.setItem(_.PASSWORD_OPTIONS,JSON.stringify(S))])}else await c()},options:e}}var no=wa;var V=require("@raycast/api");var te=require("@raycast/api");var Rt=(t,e=!1)=>{let r=t.charAt(0).toUpperCase(),n=e?t.slice(1).toLowerCase():t.slice(1);return r+n};async function so(t,e){let r=(0,te.getPreferenceValues)().windowActionOnCopy,n=Rt(t,!0);r==="keepOpen"?await(0,te.showToast)({title:n,message:e,style:te.Toast.Style.Success}):r==="closeAndPopToRoot"?(await(0,te.showHUD)(n),await(0,te.popToRoot)()):await(0,te.showHUD)(n)}var re=require("react/jsx-runtime"),ba=t=>{let{password:e,regeneratePassword:r}=t,n=s=>async()=>{await V.Clipboard.copy(s,{transient:hs("password")}),await so("Copied password to clipboard")};return(0,re.jsxs)(V.ActionPanel,{children:[!!e&&(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(V.Action,{title:"Copy Password",icon:V.Icon.Clipboard,onAction:n(e),shortcut:{macOS:{key:"enter",modifiers:["opt"]},Windows:{key:"enter",modifiers:["alt"]}}}),(0,re.jsx)(V.Action.Paste,{title:"Paste Password to Active App",icon:V.Icon.Text,content:e,shortcut:{key:"enter",macOS:{key:"enter",modifiers:["opt","shift"]},Windows:{key:"enter",modifiers:["alt","shift"]}}})]}),(0,re.jsx)(V.Action,{title:"Regenerate Password",icon:V.Icon.ArrowClockwise,shortcut:{macOS:{key:"backspace",modifiers:["opt"]},Windows:{key:"backspace",modifiers:["alt"]}},onAction:()=>r()}),(0,re.jsx)(Pt,{}),process.env.NODE_ENV==="development"&&(0,re.jsx)(V.Action,{title:"Clear storage",icon:V.Icon.Trash,onAction:Sa})]})};async function Sa(){for(let t of Object.values(_))await V.LocalStorage.removeItem(t)}var oo=ba;var Me=require("@raycast/api"),io=require("react");var Ir=require("react/jsx-runtime"),ot=class extends io.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}async componentDidCatch(e,r){e instanceof se?(this.setState(n=>({...n,hasError:!0,error:e.message})),await(0,Me.showToast)(Me.Toast.Style.Failure,e.message)):(Me.environment.isDevelopment&&this.setState(n=>({...n,hasError:!0,error:e.message})),console.error("Error:",e,r))}render(){try{return this.state.hasError?(0,Ir.jsx)(st,{error:this.state.error}):this.props.children}catch{return(0,Ir.jsx)(st,{})}}};var ao=require("react"),Ve={NumberStringBetween:(t,e)=>r=>{let n=r!==""?Number(r):NaN;if(isNaN(n)||n<t||n>e)return`Must be between ${t} and ${e}`},OneCharacter:t=>{if(!t||t.length!==1)return"Must be one character"}},co=(t,e,r)=>({...t,defaultValue:t.value?e:r,value:t.value?e:r,onChange:n=>t.onChange?.(n===e),onBlur:n=>{t.onBlur?.({...n,target:{...n.target,value:n.target.value===e}})},onFocus:n=>{t.onFocus?.({...n,target:{...n.target,value:n.target.value===e}})}}),lo=t=>{let e=Vs({...t,onSubmit:t.onChange});return(0,ao.useEffect)(()=>void e.handleSubmit(e.values),[e.values]),e};var x=require("react/jsx-runtime"),Ea=()=>(0,x.jsx)(ot,{children:(0,x.jsx)(to,{children:(0,x.jsx)(xa,{})})});function xa(){let t=no();return t.options?(0,x.jsx)(va,{generator:t}):(0,x.jsx)(L.Detail,{isLoading:!0})}var Ia=["password","passphrase"];function va({generator:t}){let{options:e,password:r,isGenerating:n,regeneratePassword:s}=t,o=Ct(),i=lo({onChange:s,initialValues:e,validation:{length:Ve.NumberStringBetween(5,128),words:Ve.NumberStringBetween(3,20),separator:Ve.OneCharacter,minNumber:Ve.NumberStringBetween(0,9),minSpecial:Ve.NumberStringBetween(0,9)}}),{values:u,itemProps:c}=i;return Lr(),(0,x.jsxs)(L.Form,{isLoading:n,actions:(0,x.jsx)(oo,{password:r,regeneratePassword:s}),children:[(0,x.jsx)(L.Form.Description,{title:"\u{1F511}",text:r??"Generating..."}),(0,x.jsx)(L.Form.Separator,{}),(0,x.jsx)(L.Form.Dropdown,{...co(c.passphrase,"passphrase","password"),title:"Type",autoFocus:!0,children:Ia.map(p=>(0,x.jsx)(L.Form.Dropdown.Item,{value:p,title:Rt(p)},p))}),u.passphrase?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(L.Form.TextField,{...c.words,title:"Number of words",placeholder:"3 - 20"}),(0,x.jsx)(L.Form.TextField,{...c.separator,title:"Word separator",placeholder:"this-is-a-passphrase"}),(0,x.jsx)(L.Form.Checkbox,{...c.capitalize,title:"Capitalize",label:"This-Is-A-Passphrase"}),(0,x.jsx)(L.Form.Checkbox,{...c.includeNumber,title:"Include number",label:"This2-Is-A-Passphrase"})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(L.Form.TextField,{...c.length,title:"Length of the password",placeholder:"5 - 128"}),(0,x.jsx)(L.Form.Checkbox,{...c.uppercase,title:"Uppercase characters",label:"ABCDEFGHIJLMNOPQRSTUVWXYZ"}),(0,x.jsx)(L.Form.Checkbox,{...c.lowercase,title:"Lowercase characters",label:"abcdefghijklmnopqrstuvwxyz"}),(0,x.jsx)(L.Form.Checkbox,{...c.number,title:"Numeric characters",label:"0123456789"}),o>=2023.9&&u.number&&(0,x.jsx)(L.Form.TextField,{...c.minNumber,title:"Minimum numbers",placeholder:"1"}),(0,x.jsx)(L.Form.Checkbox,{...c.special,title:"Special characters",label:"!@#$%^&*()_+-=[]{}|;:,./<>?"}),o>=2023.9&&u.special&&(0,x.jsx)(L.Form.TextField,{...c.minSpecial,title:"Minimum special",placeholder:"1"})]})]})}var Ta=Ea;
/*! Bundled license information:

node-stream-zip/node_stream_zip.js:
  (**
   * @license node-stream-zip | (c) 2020 Antelle | https://github.com/antelle/node-stream-zip/blob/master/LICENSE
   * Portions copyright https://github.com/cthackers/adm-zip | https://raw.githubusercontent.com/cthackers/adm-zip/master/LICENSE
   *)
*/
